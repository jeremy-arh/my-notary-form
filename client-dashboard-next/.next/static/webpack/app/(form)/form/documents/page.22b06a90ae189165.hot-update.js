"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(form)/form/documents/page",{

/***/ "(app-pages-browser)/./app/(form)/form/documents/page.tsx":
/*!********************************************!*\
  !*** ./app/(form)/form/documents/page.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentsPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _iconify_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @iconify/react */ \"(app-pages-browser)/./node_modules/@iconify/react/dist/iconify.js\");\n/* harmony import */ var _contexts_FormContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/contexts/FormContext */ \"(app-pages-browser)/./contexts/FormContext.tsx\");\n/* harmony import */ var _contexts_FormActionsContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/contexts/FormActionsContext */ \"(app-pages-browser)/./contexts/FormActionsContext.tsx\");\n/* harmony import */ var _contexts_ServicesContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/contexts/ServicesContext */ \"(app-pages-browser)/./contexts/ServicesContext.tsx\");\n/* harmony import */ var _contexts_CurrencyContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/contexts/CurrencyContext */ \"(app-pages-browser)/./contexts/CurrencyContext.tsx\");\n/* harmony import */ var _hooks_useTranslation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/hooks/useTranslation */ \"(app-pages-browser)/./hooks/useTranslation.ts\");\n/* harmony import */ var _lib_utils_formDraft__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/utils/formDraft */ \"(app-pages-browser)/./lib/utils/formDraft.ts\");\n/* harmony import */ var _lib_utils_pricing__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/utils/pricing */ \"(app-pages-browser)/./lib/utils/pricing.ts\");\n/* harmony import */ var _lib_utils_currency__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/utils/currency */ \"(app-pages-browser)/./lib/utils/currency.ts\");\n/* harmony import */ var _components_form_Notification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/form/Notification */ \"(app-pages-browser)/./components/form/Notification.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst APOSTILLE_SERVICE_ID = \"473fb677-4dd3-4766-8221-0250ea3440cd\";\nconst ALLOWED_TYPES = [\n    \"application/pdf\",\n    \"image/png\",\n    \"image/jpg\",\n    \"image/jpeg\",\n    \"image/gif\",\n    \"image/webp\"\n];\nconst MAX_SIZE = 50 * 1024 * 1024;\nfunction getFileTypeIcon(file) {\n    var _file_name;\n    const name = ((_file_name = file.name) !== null && _file_name !== void 0 ? _file_name : \"\").toLowerCase();\n    var _file_type;\n    const type = ((_file_type = file.type) !== null && _file_type !== void 0 ? _file_type : \"\").toLowerCase();\n    if (name.endsWith(\".pdf\") || type === \"application/pdf\") return {\n        icon: \"mdi:file-pdf-box\",\n        color: \"text-red-600\",\n        bgColor: \"bg-red-50\"\n    };\n    if (name.endsWith(\".png\") || type === \"image/png\") return {\n        icon: \"mdi:file-image\",\n        color: \"text-blue-600\",\n        bgColor: \"bg-blue-50\"\n    };\n    if (name.endsWith(\".jpg\") || name.endsWith(\".jpeg\") || type.includes(\"jpeg\")) return {\n        icon: \"mdi:file-image\",\n        color: \"text-purple-600\",\n        bgColor: \"bg-purple-50\"\n    };\n    if (name.endsWith(\".gif\") || type === \"image/gif\") return {\n        icon: \"mdi:file-image\",\n        color: \"text-pink-600\",\n        bgColor: \"bg-pink-50\"\n    };\n    if (name.endsWith(\".webp\") || type === \"image/webp\") return {\n        icon: \"mdi:file-image\",\n        color: \"text-green-600\",\n        bgColor: \"bg-green-50\"\n    };\n    return {\n        icon: \"heroicons:document\",\n        color: \"text-gray-600\",\n        bgColor: \"bg-gray-50\"\n    };\n}\nfunction truncateFileName(fileName, isMobile) {\n    if (isMobile && fileName.length > 30) {\n        const ext = fileName.substring(fileName.lastIndexOf(\".\"));\n        const nameWithoutExt = fileName.substring(0, fileName.lastIndexOf(\".\"));\n        return nameWithoutExt.substring(0, 30 - ext.length - 3) + \"...\" + ext;\n    }\n    return fileName;\n}\nfunction DocumentsPage() {\n    var _viewingFile_type, _viewingFile_name;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { formData, updateFormData } = (0,_contexts_FormContext__WEBPACK_IMPORTED_MODULE_5__.useFormData)();\n    const { registerContinueHandler, setIsUploading } = (0,_contexts_FormActionsContext__WEBPACK_IMPORTED_MODULE_6__.useFormActions)();\n    const { getServicesByIds, options, loading: servicesLoading, getServiceName } = (0,_contexts_ServicesContext__WEBPACK_IMPORTED_MODULE_7__.useServices)();\n    const { currency } = (0,_contexts_CurrencyContext__WEBPACK_IMPORTED_MODULE_8__.useCurrency)();\n    const { t } = (0,_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_9__.useTranslation)();\n    const [services, setServices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [uploadingServices, setUploadingServices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [viewingFile, setViewingFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isMobile, setIsMobile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [footerPadding, setFooterPadding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(160);\n    const [notification, setNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const scrollContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const savedScrollPositionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (servicesLoading) {\n            setLoading(true);\n            return;\n        }\n        var _formData_selectedServices;\n        const ids = (_formData_selectedServices = formData.selectedServices) !== null && _formData_selectedServices !== void 0 ? _formData_selectedServices : [];\n        if (ids.length > 0) {\n            setServices(getServicesByIds(ids));\n        } else {\n            setServices([]);\n        }\n        setLoading(false);\n    }, [\n        formData.selectedServices,\n        getServicesByIds,\n        servicesLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkMobile = ()=>setIsMobile(window.innerWidth < 640);\n        checkMobile();\n        window.addEventListener(\"resize\", checkMobile);\n        return ()=>window.removeEventListener(\"resize\", checkMobile);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let resizeObserver = null;\n        let checkInterval = null;\n        let resizeHandler = null;\n        const calculateFooterPadding = ()=>{\n            const footer = document.querySelector('[data-footer=\"notary-form\"]');\n            if (footer && footer.offsetHeight > 0) {\n                const footerHeight = footer.offsetHeight;\n                const desiredGap = isMobile ? 50 : 20;\n                setFooterPadding(footerHeight + desiredGap);\n                return true;\n            }\n            return false;\n        };\n        const setup = ()=>{\n            const footer = document.querySelector('[data-footer=\"notary-form\"]');\n            if (footer && footer.offsetHeight > 0) {\n                if (!resizeObserver) {\n                    resizeObserver = new ResizeObserver(calculateFooterPadding);\n                    resizeObserver.observe(footer);\n                }\n                if (!resizeHandler) {\n                    resizeHandler = calculateFooterPadding;\n                    window.addEventListener(\"resize\", resizeHandler);\n                }\n                calculateFooterPadding();\n                return true;\n            }\n            return false;\n        };\n        const t1 = setTimeout(()=>{\n            if (!setup()) {\n                let attempts = 0;\n                checkInterval = setInterval(()=>{\n                    attempts++;\n                    if (setup() || attempts >= 30) {\n                        if (checkInterval) clearInterval(checkInterval);\n                        if (attempts >= 30) setFooterPadding(isMobile ? 110 : 100);\n                    }\n                }, 100);\n            }\n        }, 200);\n        return ()=>{\n            clearTimeout(t1);\n            resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n            if (checkInterval) clearInterval(checkInterval);\n            if (resizeHandler) window.removeEventListener(\"resize\", resizeHandler);\n        };\n    }, [\n        isMobile\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (savedScrollPositionRef.current !== null && scrollContainerRef.current) {\n            requestAnimationFrame(()=>{\n                if (scrollContainerRef.current && savedScrollPositionRef.current !== null) {\n                    scrollContainerRef.current.scrollTop = savedScrollPositionRef.current;\n                    savedScrollPositionRef.current = null;\n                }\n            });\n        }\n    }, [\n        formData.serviceDocuments\n    ]);\n    const isAnyUploading = Object.values(uploadingServices).some(Boolean);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsUploading(isAnyUploading);\n    }, [\n        isAnyUploading,\n        setIsUploading\n    ]);\n    const handleFileUpload = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (e, serviceId)=>{\n        var _e_target_files;\n        const files = Array.from((_e_target_files = e.target.files) !== null && _e_target_files !== void 0 ? _e_target_files : []);\n        if (files.length === 0) return;\n        const invalid = files.filter((f)=>!ALLOWED_TYPES.includes(f.type.toLowerCase()));\n        if (invalid.length > 0) {\n            setNotification({\n                type: \"error\",\n                message: t(\"form.steps.documents.invalidFileFormat\").replace(\"{fileNames}\", invalid.map((f)=>f.name).join(\", \"))\n            });\n            e.target.value = \"\";\n            return;\n        }\n        setUploadingServices((p)=>({\n                ...p,\n                [serviceId]: true\n            }));\n        if (scrollContainerRef.current) savedScrollPositionRef.current = scrollContainerRef.current.scrollTop;\n        const inputEl = e.target;\n        inputEl.value = \"\";\n        setTimeout(()=>{\n            if (inputEl) inputEl.value = \"\";\n        }, 0);\n        try {\n            var _localStorage_getItem;\n            const sessionId =  true ? (_localStorage_getItem = localStorage.getItem(\"formSessionId\")) !== null && _localStorage_getItem !== void 0 ? _localStorage_getItem : undefined : 0;\n            const uploaded = [];\n            for (const file of files){\n                if (file.size > MAX_SIZE) {\n                    setNotification({\n                        type: \"error\",\n                        message: t(\"form.steps.documents.fileTooLarge\")\n                    });\n                    uploaded.push({\n                        name: file.name,\n                        size: file.size,\n                        type: file.type,\n                        error: \"File too large\"\n                    });\n                    continue;\n                }\n                try {\n                    const u = await (0,_lib_utils_formDraft__WEBPACK_IMPORTED_MODULE_10__.uploadDocument)(file, serviceId, sessionId);\n                    uploaded.push({\n                        name: u.name,\n                        size: u.size,\n                        type: u.type,\n                        path: u.path,\n                        url: u.url,\n                        selectedOptions: []\n                    });\n                } catch (e) {\n                    uploaded.push({\n                        name: file.name,\n                        size: file.size,\n                        type: file.type,\n                        error: \"Upload failed\"\n                    });\n                }\n            }\n            const ok = uploaded.filter((x)=>!x.error);\n            const failed = uploaded.filter((x)=>x.error);\n            if (failed.length > 0) {\n                setNotification({\n                    type: \"error\",\n                    message: t(\"form.steps.documents.uploadError\") || \"\".concat(failed.length, \" fichier(s) en \\xe9chec\")\n                });\n            }\n            if (ok.length > 0) {\n                updateFormData((prev)=>{\n                    var _prev_serviceDocuments;\n                    const docs = {\n                        ...(_prev_serviceDocuments = prev.serviceDocuments) !== null && _prev_serviceDocuments !== void 0 ? _prev_serviceDocuments : {}\n                    };\n                    var _docs_serviceId;\n                    const existing = (_docs_serviceId = docs[serviceId]) !== null && _docs_serviceId !== void 0 ? _docs_serviceId : [];\n                    docs[serviceId] = [\n                        ...existing,\n                        ...ok\n                    ];\n                    return {\n                        serviceDocuments: docs\n                    };\n                });\n                setNotification({\n                    type: \"success\",\n                    message: t(\"form.steps.documents.uploadSuccess\")\n                });\n            }\n        } finally{\n            setUploadingServices((p)=>({\n                    ...p,\n                    [serviceId]: false\n                }));\n        }\n    }, [\n        updateFormData,\n        t\n    ]);\n    const removeFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (serviceId, fileIndex)=>{\n        var _formData_serviceDocuments;\n        const docs = (_formData_serviceDocuments = formData.serviceDocuments) === null || _formData_serviceDocuments === void 0 ? void 0 : _formData_serviceDocuments[serviceId];\n        const file = docs === null || docs === void 0 ? void 0 : docs[fileIndex];\n        if (file === null || file === void 0 ? void 0 : file.path) {\n            try {\n                await (0,_lib_utils_formDraft__WEBPACK_IMPORTED_MODULE_10__.deleteDocument)(file.path);\n            } catch (e) {\n            /* ignore */ }\n        }\n        updateFormData((prev)=>{\n            var _prev_serviceDocuments;\n            const serviceDocuments = {\n                ...(_prev_serviceDocuments = prev.serviceDocuments) !== null && _prev_serviceDocuments !== void 0 ? _prev_serviceDocuments : {}\n            };\n            var _serviceDocuments_serviceId;\n            const arr = [\n                ...(_serviceDocuments_serviceId = serviceDocuments[serviceId]) !== null && _serviceDocuments_serviceId !== void 0 ? _serviceDocuments_serviceId : []\n            ];\n            arr.splice(fileIndex, 1);\n            if (arr.length === 0) delete serviceDocuments[serviceId];\n            else serviceDocuments[serviceId] = arr;\n            return {\n                serviceDocuments\n            };\n        });\n    }, [\n        formData.serviceDocuments,\n        updateFormData\n    ]);\n    const toggleOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((serviceId, fileIndex, optionId)=>{\n        updateFormData((prev)=>{\n            var _prev_serviceDocuments;\n            const serviceDocuments = {\n                ...(_prev_serviceDocuments = prev.serviceDocuments) !== null && _prev_serviceDocuments !== void 0 ? _prev_serviceDocuments : {}\n            };\n            var _serviceDocuments_serviceId;\n            const arr = [\n                ...(_serviceDocuments_serviceId = serviceDocuments[serviceId]) !== null && _serviceDocuments_serviceId !== void 0 ? _serviceDocuments_serviceId : []\n            ];\n            const file = arr[fileIndex];\n            if (!file) return prev;\n            var _file_selectedOptions;\n            const opts = (_file_selectedOptions = file.selectedOptions) !== null && _file_selectedOptions !== void 0 ? _file_selectedOptions : [];\n            const next = opts.includes(optionId) ? opts.filter((id)=>id !== optionId) : [\n                ...opts,\n                optionId\n            ];\n            arr[fileIndex] = {\n                ...file,\n                selectedOptions: next\n            };\n            serviceDocuments[serviceId] = arr;\n            return {\n                serviceDocuments\n            };\n        });\n    }, [\n        updateFormData\n    ]);\n    const getTotalPrice = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((service)=>{\n        var _formData_serviceDocuments;\n        var _formData_serviceDocuments_service_service_id;\n        const files = (_formData_serviceDocuments_service_service_id = (_formData_serviceDocuments = formData.serviceDocuments) === null || _formData_serviceDocuments === void 0 ? void 0 : _formData_serviceDocuments[service.service_id]) !== null && _formData_serviceDocuments_service_service_id !== void 0 ? _formData_serviceDocuments_service_service_id : [];\n        let total = 0;\n        const pricePerDoc = (0,_lib_utils_pricing__WEBPACK_IMPORTED_MODULE_11__.getServicePriceInCurrency)(service, currency);\n        files.forEach((file)=>{\n            total += pricePerDoc;\n            var _file_selectedOptions;\n            ((_file_selectedOptions = file.selectedOptions) !== null && _file_selectedOptions !== void 0 ? _file_selectedOptions : []).forEach((optId)=>{\n                const opt = options.find((o)=>o.option_id === optId);\n                if (opt) total += (0,_lib_utils_pricing__WEBPACK_IMPORTED_MODULE_11__.getOptionPriceInCurrency)(opt, currency);\n            });\n        });\n        return (0,_lib_utils_currency__WEBPACK_IMPORTED_MODULE_12__.formatPriceSync)(total, currency);\n    }, [\n        formData.serviceDocuments,\n        options,\n        currency\n    ]);\n    const handleNext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (isAnyUploading) {\n            setNotification({\n                type: \"warning\",\n                message: t(\"form.steps.documents.uploadInProgress\")\n            });\n            return;\n        }\n        router.push(\"/form/delivery\");\n    }, [\n        isAnyUploading,\n        router,\n        t\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        registerContinueHandler(handleNext);\n    }, [\n        registerContinueHandler,\n        handleNext\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full w-full flex flex-col relative max-w-full overflow-x-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: scrollContainerRef,\n                className: \"flex-1 overflow-y-auto overflow-x-hidden px-3 sm:px-4 md:px-6 pt-4 sm:pt-6 md:pt-8 w-full max-w-full\",\n                style: {\n                    minHeight: 0,\n                    paddingBottom: isMobile ? \"\".concat(footerPadding, \"px\") : \"144px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto w-full \".concat(services.length === 1 && isMobile && !loading ? \"h-full flex flex-col min-h-0\" : \"\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-3 sm:mb-4 flex-shrink-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-base sm:text-lg md:text-xl font-semibold text-gray-900 mb-1 sm:mb-2\",\n                                    children: t(\"form.steps.documents.title\")\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                    lineNumber: 321,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs sm:text-sm text-gray-600 mb-2\",\n                                    children: t(\"form.steps.documents.subtitle\")\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                    lineNumber: 324,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                            lineNumber: 320,\n                            columnNumber: 11\n                        }, this),\n                        loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-center py-12\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-12 w-12 animate-spin rounded-full border-2 border-black border-t-transparent\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 329,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                            lineNumber: 328,\n                            columnNumber: 13\n                        }, this) : services.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: t(\"form.steps.documents.noServicesSelected\")\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                            lineNumber: 332,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 sm:space-y-4 w-full max-w-full \".concat(services.length === 1 && isMobile ? \"flex flex-col flex-1 min-h-0\" : \"\"),\n                            children: services.map((service)=>{\n                                var _formData_serviceDocuments;\n                                var _formData_serviceDocuments_service_service_id;\n                                const files = (_formData_serviceDocuments_service_service_id = (_formData_serviceDocuments = formData.serviceDocuments) === null || _formData_serviceDocuments === void 0 ? void 0 : _formData_serviceDocuments[service.service_id]) !== null && _formData_serviceDocuments_service_service_id !== void 0 ? _formData_serviceDocuments_service_service_id : [];\n                                const fileCount = files.length;\n                                const price = getServicePrice(service, currency);\n                                const priceCur = getServicePriceCurrency(service, currency);\n                                const uploading = uploadingServices[service.service_id];\n                                const isApostilleService = service.service_id === APOSTILLE_SERVICE_ID;\n                                const shouldTakeFullHeight = services.length === 1 && isMobile && files.length === 0;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-gray-200 w-full max-w-full box-border \".concat(shouldTakeFullHeight ? \"flex-1 flex flex-col min-h-0\" : \"\"),\n                                    style: isMobile && files.length === 0 ? {\n                                        minHeight: \"400px\",\n                                        display: \"flex\",\n                                        flexDirection: \"column\"\n                                    } : {},\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-3 sm:mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"font-semibold text-sm sm:text-base text-gray-900 break-words\",\n                                                    children: getServiceName(service)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                    lineNumber: 357,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs sm:text-sm text-gray-600 mt-0.5 sm:mt-1\",\n                                                    children: [\n                                                        (0,_lib_utils_currency__WEBPACK_IMPORTED_MODULE_12__.formatPriceSync)(price, priceCur),\n                                                        \" \",\n                                                        t(\"form.steps.documents.perDocument\")\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                    lineNumber: 358,\n                                                    columnNumber: 23\n                                                }, this),\n                                                fileCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs sm:text-sm font-semibold text-black mt-0.5 sm:mt-1\",\n                                                    children: [\n                                                        t(\"form.steps.documents.total\"),\n                                                        \": \",\n                                                        getTotalPrice(service),\n                                                        \" (\",\n                                                        fileCount,\n                                                        \" \",\n                                                        fileCount > 1 ? t(\"form.steps.summary.documentPlural\") : t(\"form.steps.summary.document\"),\n                                                        \")\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                    lineNumber: 362,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                            lineNumber: 356,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"block mb-3 sm:mb-4 w-full \".concat(shouldTakeFullHeight ? \"flex-1 flex flex-col min-h-0\" : isMobile && files.length === 0 ? \"flex-1 flex flex-col min-h-0\" : \"\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"group relative bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-8 md:p-12 lg:p-16 text-center cursor-pointer transition-all hover:bg-blue-50 hover:border-blue-200 active:bg-blue-100 active:border-blue-300 focus-within:bg-blue-50 focus-within:border-blue-200 w-full max-w-full overflow-hidden \".concat(shouldTakeFullHeight ? \"flex-1 flex flex-col justify-center\" : isMobile && files.length === 0 ? \"flex-1 flex flex-col justify-center min-h-0\" : isMobile ? \"flex flex-col justify-center\" : \"\"),\n                                                style: shouldTakeFullHeight && isMobile ? {\n                                                    maxHeight: \"100%\",\n                                                    minHeight: \"250px\"\n                                                } : isMobile && files.length === 0 ? {\n                                                    minHeight: \"250px\",\n                                                    height: \"100%\"\n                                                } : isMobile ? {\n                                                    minHeight: \"250px\"\n                                                } : {},\n                                                onClick: ()=>{\n                                                    var _fileInputRefs_current_service_service_id;\n                                                    if (uploading) return;\n                                                    if (scrollContainerRef.current) savedScrollPositionRef.current = scrollContainerRef.current.scrollTop;\n                                                    (_fileInputRefs_current_service_service_id = fileInputRefs.current[service.service_id]) === null || _fileInputRefs_current_service_service_id === void 0 ? void 0 : _fileInputRefs_current_service_service_id.click();\n                                                },\n                                                children: [\n                                                    uploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 z-10 flex flex-col items-center justify-center rounded-lg bg-white/90 backdrop-blur-sm\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                icon: \"svg-spinners:ring-resize\",\n                                                                className: \"mb-3 h-12 w-12 sm:h-16 sm:w-16 text-blue-600\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 391,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm font-medium text-gray-900 sm:text-base\",\n                                                                children: t(\"form.steps.documents.uploading\")\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 392,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"mt-1 text-xs text-gray-600 sm:text-sm\",\n                                                                children: t(\"form.steps.documents.pleaseWait\")\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 393,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 390,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                        icon: \"hugeicons:file-upload\",\n                                                        className: \"mx-auto mb-2 flex-shrink-0 text-black transition-colors group-hover:text-blue-600 sm:mb-4 md:mb-5 \".concat(shouldTakeFullHeight ? \"mb-6\" : \"\", \" h-8 w-8 sm:h-12 sm:w-12 md:h-14 md:w-14\")\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 397,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mb-1 px-1 font-medium text-black transition-colors break-words group-hover:text-blue-700 sm:mb-2 md:mb-3 \".concat(shouldTakeFullHeight ? \"mb-3 text-base\" : \"\", \" text-xs sm:text-base md:text-lg\"),\n                                                        children: t(\"form.steps.documents.clickToUpload\") || \"Click here or drag & drop your document\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 401,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mb-3 px-1 break-words text-gray-600 sm:mb-4 \".concat(shouldTakeFullHeight ? \"text-sm\" : \"\", \" text-[10px] sm:text-xs md:text-sm leading-relaxed\"),\n                                                        children: t(\"form.steps.documents.uploadDescriptionLong\")\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 406,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"hidden flex-wrap items-center justify-center gap-3 px-2 sm:flex sm:gap-4 md:gap-6\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1.5 text-gray-500\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                        icon: \"heroicons:lock-closed\",\n                                                                        className: \"h-3 w-3 flex-shrink-0 sm:h-3.5 sm:w-3.5\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 414,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"whitespace-nowrap font-light text-[9px] sm:text-[10px]\",\n                                                                        children: t(\"form.steps.documents.encryptedSecure\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 415,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 413,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1.5 text-gray-500\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                        icon: \"heroicons:trash\",\n                                                                        className: \"h-3 w-3 flex-shrink-0 sm:h-3.5 sm:w-3.5\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 418,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"whitespace-nowrap font-light text-[9px] sm:text-[10px]\",\n                                                                        children: t(\"form.steps.documents.autoDeleted\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 419,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 417,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1.5 text-gray-500\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                        icon: \"heroicons:check-badge\",\n                                                                        className: \"h-3 w-3 flex-shrink-0 sm:h-3.5 sm:w-3.5\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 422,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"whitespace-nowrap font-light text-[9px] sm:text-[10px]\",\n                                                                        children: t(\"form.steps.documents.gdprCompliant\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 423,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                lineNumber: 421,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 412,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: (el)=>{\n                                                            fileInputRefs.current[service.service_id] = el;\n                                                        },\n                                                        type: \"file\",\n                                                        multiple: true,\n                                                        accept: \".pdf,.png,.jpg,.jpeg,.gif,.webp,image/*,application/pdf\",\n                                                        className: \"sr-only\",\n                                                        tabIndex: -1,\n                                                        disabled: uploading,\n                                                        onChange: (e)=>handleFileUpload(e, service.service_id),\n                                                        onClick: (e)=>e.stopPropagation(),\n                                                        onFocus: (e)=>{\n                                                            e.stopPropagation();\n                                                            if (scrollContainerRef.current && savedScrollPositionRef.current !== null) {\n                                                                scrollContainerRef.current.scrollTop = savedScrollPositionRef.current;\n                                                            }\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                        lineNumber: 427,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                lineNumber: 372,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                            lineNumber: 369,\n                                            columnNumber: 21\n                                        }, this),\n                                        files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2 sm:space-y-3\",\n                                            children: files.map((file, idx)=>{\n                                                const ft = getFileTypeIcon(file);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"rounded-lg border border-gray-200 p-3 sm:rounded-xl sm:p-4 \".concat(isMobile && idx === files.length - 1 ? \"mb-3\" : \"\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mb-2 flex flex-wrap items-start justify-between gap-2 sm:mb-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex min-w-0 flex-1 items-center space-x-2 sm:space-x-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg sm:h-10 sm:w-10 \".concat(ft.bgColor),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                                icon: ft.icon,\n                                                                                className: \"h-5 w-5 sm:h-6 sm:w-6 \".concat(ft.color)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                lineNumber: 461,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                            lineNumber: 460,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"min-w-0 flex-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"truncate text-xs font-medium text-gray-900 sm:text-sm\",\n                                                                                    title: file.name,\n                                                                                    children: truncateFileName(file.name, isMobile)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                    lineNumber: 464,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-[10px] text-gray-500 sm:text-xs\",\n                                                                                    children: [\n                                                                                        (file.size / 1024).toFixed(2),\n                                                                                        \" KB\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                    lineNumber: 467,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                            lineNumber: 463,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                    lineNumber: 459,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"ml-auto flex flex-shrink-0 items-center gap-1 sm:gap-1.5\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            type: \"button\",\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                setViewingFile(file);\n                                                                            },\n                                                                            className: \"flex-shrink-0 rounded-lg p-1.5 transition-colors hover:bg-gray-200 sm:p-2\",\n                                                                            \"aria-label\": t(\"form.steps.documents.view\"),\n                                                                            title: t(\"form.steps.documents.view\"),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                                icon: \"heroicons:eye\",\n                                                                                className: \"h-4 w-4 text-gray-600 hover:text-gray-900 sm:h-5 sm:w-5\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                lineNumber: 481,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                            lineNumber: 471,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            type: \"button\",\n                                                                            onClick: ()=>removeFile(service.service_id, idx),\n                                                                            className: \"flex-shrink-0 rounded-lg p-1.5 transition-colors hover:bg-gray-100 sm:p-2\",\n                                                                            \"aria-label\": t(\"form.steps.documents.remove\"),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                                icon: \"heroicons:trash\",\n                                                                                className: \"h-4 w-4 text-red-600 sm:h-5 sm:w-5\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                lineNumber: 489,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                            lineNumber: 483,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                    lineNumber: 470,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                            lineNumber: 458,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        !isApostilleService && options.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-1.5 border-t border-gray-100 pt-2 sm:space-y-2 sm:pt-3\",\n                                                            children: options.map((opt)=>/*#__PURE__*/ {\n                                                                var _file_selectedOptions, _file_selectedOptions1;\n                                                                var _file_selectedOptions_includes, _getOptionPrice;\n                                                                return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-start gap-2\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            className: \"group flex min-w-0 flex-1 cursor-pointer items-start space-x-1.5 sm:space-x-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"relative mt-0.5 flex-shrink-0\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                            type: \"checkbox\",\n                                                                                            checked: (_file_selectedOptions_includes = (_file_selectedOptions = file.selectedOptions) === null || _file_selectedOptions === void 0 ? void 0 : _file_selectedOptions.includes(opt.option_id)) !== null && _file_selectedOptions_includes !== void 0 ? _file_selectedOptions_includes : false,\n                                                                                            onChange: ()=>toggleOption(service.service_id, idx, opt.option_id),\n                                                                                            className: \"peer sr-only\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                            lineNumber: 501,\n                                                                                            columnNumber: 45\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"flex h-4 w-4 items-center justify-center rounded border-2 border-blue-300 transition-all peer-checked:border-blue-600 peer-checked:bg-blue-600 group-hover:border-blue-400 sm:h-5 sm:w-5\",\n                                                                                            children: ((_file_selectedOptions1 = file.selectedOptions) === null || _file_selectedOptions1 === void 0 ? void 0 : _file_selectedOptions1.includes(opt.option_id)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                                                                                icon: \"heroicons:check\",\n                                                                                                className: \"h-2.5 w-2.5 text-white sm:h-3 sm:w-3\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                                lineNumber: 509,\n                                                                                                columnNumber: 49\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                            lineNumber: 507,\n                                                                                            columnNumber: 45\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                    lineNumber: 500,\n                                                                                    columnNumber: 43\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"min-w-0 flex-1 space-y-0.5\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"flex flex-wrap items-center gap-1.5 sm:gap-2\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"break-words text-xs font-medium text-gray-700 transition-colors group-hover:text-black sm:text-sm\",\n                                                                                                    children: opt.name\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                                    lineNumber: 515,\n                                                                                                    columnNumber: 47\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"whitespace-nowrap font-normal text-gray-500 text-[10px] sm:text-xs\",\n                                                                                                    children: [\n                                                                                                        \"(+\",\n                                                                                                        (0,_lib_utils_currency__WEBPACK_IMPORTED_MODULE_12__.formatPriceSync)((_getOptionPrice = getOptionPrice(opt, currency)) !== null && _getOptionPrice !== void 0 ? _getOptionPrice : 0, getOptionPriceCurrency(opt, currency)),\n                                                                                                        \")\"\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                                    lineNumber: 518,\n                                                                                                    columnNumber: 47\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                            lineNumber: 514,\n                                                                                            columnNumber: 45\n                                                                                        }, this),\n                                                                                        opt.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                            className: \"break-words text-[10px] text-gray-600 sm:text-xs\",\n                                                                                            children: opt.description\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                            lineNumber: 523,\n                                                                                            columnNumber: 47\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                                    lineNumber: 513,\n                                                                                    columnNumber: 43\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                            lineNumber: 499,\n                                                                            columnNumber: 41\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                        lineNumber: 498,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, opt.option_id, false, {\n                                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                                    lineNumber: 497,\n                                                                    columnNumber: 37\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                            lineNumber: 495,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, idx, true, {\n                                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                                    lineNumber: 454,\n                                                    columnNumber: 29\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                            lineNumber: 450,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, service.service_id, true, {\n                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                            lineNumber: 336,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                    lineNumber: 319,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                lineNumber: 314,\n                columnNumber: 7\n            }, this),\n            viewingFile && /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"fixed\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    width: \"100vw\",\n                    height: \"100vh\",\n                    backgroundColor: \"#000000\",\n                    zIndex: 99999,\n                    overflow: \"auto\"\n                },\n                onClick: (e)=>e.stopPropagation(),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: (e)=>{\n                            e.preventDefault();\n                            e.stopPropagation();\n                            setViewingFile(null);\n                        },\n                        onMouseDown: (e)=>e.preventDefault(),\n                        style: {\n                            position: \"fixed\",\n                            top: 24,\n                            right: 24,\n                            zIndex: 100000,\n                            padding: \"12px 20px\",\n                            backgroundColor: \"#3b82f6\",\n                            borderRadius: 8,\n                            cursor: \"pointer\",\n                            boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n                            border: \"none\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: 8,\n                            color: \"white\",\n                            fontSize: 16,\n                            fontWeight: 500\n                        },\n                        \"aria-label\": t(\"form.steps.documents.close\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                icon: \"heroicons:x-mark\",\n                                style: {\n                                    width: 20,\n                                    height: 20\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 590,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: t(\"form.steps.documents.close\")\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 591,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                        lineNumber: 562,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            width: \"100%\",\n                            height: \"100vh\",\n                            overflow: \"auto\"\n                        },\n                        children: (viewingFile.dataUrl || viewingFile.url) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: ((_viewingFile_type = viewingFile.type) === null || _viewingFile_type === void 0 ? void 0 : _viewingFile_type.startsWith(\"image/\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: \"100%\",\n                                    height: \"100vh\",\n                                    padding: 32\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: viewingFile.dataUrl || viewingFile.url,\n                                    alt: viewingFile.name,\n                                    style: {\n                                        maxWidth: \"100%\",\n                                        maxHeight: \"100%\",\n                                        objectFit: \"contain\"\n                                    },\n                                    onError: (e)=>{\n                                        if (viewingFile.url && e.target.src !== viewingFile.url) {\n                                            e.target.src = viewingFile.url;\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                    lineNumber: 599,\n                                    columnNumber: 23\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 598,\n                                columnNumber: 21\n                            }, this) : viewingFile.type === \"application/pdf\" || ((_viewingFile_name = viewingFile.name) === null || _viewingFile_name === void 0 ? void 0 : _viewingFile_name.toLowerCase().endsWith(\".pdf\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                src: viewingFile.dataUrl || viewingFile.url,\n                                style: {\n                                    width: \"100%\",\n                                    height: \"100vh\",\n                                    border: 0\n                                },\n                                title: viewingFile.name\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 611,\n                                columnNumber: 21\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    minHeight: \"100vh\",\n                                    textAlign: \"center\",\n                                    padding: 32,\n                                    backgroundColor: \"white\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_iconify_react__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                        icon: \"heroicons:document\",\n                                        style: {\n                                            width: 80,\n                                            height: 80,\n                                            color: \"#9ca3af\",\n                                            marginBottom: 24\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                        lineNumber: 629,\n                                        columnNumber: 23\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            fontSize: 16,\n                                            color: \"#4b5563\",\n                                            marginBottom: 24\n                                        },\n                                        children: t(\"form.steps.documents.previewNotAvailable\") || \"Preview not available for this file type.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                        lineNumber: 630,\n                                        columnNumber: 23\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: viewingFile.dataUrl || viewingFile.url,\n                                        download: viewingFile.name,\n                                        style: {\n                                            padding: \"12px 24px\",\n                                            backgroundColor: \"#000000\",\n                                            color: \"white\",\n                                            borderRadius: 8,\n                                            fontSize: 16,\n                                            fontWeight: 500,\n                                            textDecoration: \"none\"\n                                        },\n                                        children: t(\"form.steps.documents.download\") || \"Download\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                        lineNumber: 633,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                                lineNumber: 617,\n                                columnNumber: 21\n                            }, this)\n                        }, void 0, false)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                        lineNumber: 594,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                lineNumber: 547,\n                columnNumber: 11\n            }, this), document.body),\n            notification && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_form_Notification__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                type: notification.type,\n                message: notification.message,\n                onClose: ()=>setNotification(null)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n                lineNumber: 658,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\jerem\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (3)\\\\my-notary-form\\\\client-dashboard-next\\\\app\\\\(form)\\\\form\\\\documents\\\\page.tsx\",\n        lineNumber: 313,\n        columnNumber: 5\n    }, this);\n}\n_s(DocumentsPage, \"LvrzA67q603Wp5wFiXlH+QXDpvg=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _contexts_FormContext__WEBPACK_IMPORTED_MODULE_5__.useFormData,\n        _contexts_FormActionsContext__WEBPACK_IMPORTED_MODULE_6__.useFormActions,\n        _contexts_ServicesContext__WEBPACK_IMPORTED_MODULE_7__.useServices,\n        _contexts_CurrencyContext__WEBPACK_IMPORTED_MODULE_8__.useCurrency,\n        _hooks_useTranslation__WEBPACK_IMPORTED_MODULE_9__.useTranslation\n    ];\n});\n_c = DocumentsPage;\nvar _c;\n$RefreshReg$(_c, \"DocumentsPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC8oZm9ybSkvZm9ybS9kb2N1bWVudHMvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlFO0FBQ3JCO0FBQ0g7QUFDSDtBQUNlO0FBQ1U7QUFDTjtBQUNBO0FBQ0Q7QUFDZTtBQUNtQjtBQUNuQztBQUNHO0FBRzFELE1BQU1rQix1QkFBdUI7QUFFN0IsTUFBTUMsZ0JBQWdCO0lBQ3BCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBQ0QsTUFBTUMsV0FBVyxLQUFLLE9BQU87QUFhN0IsU0FBU0MsZ0JBQWdCQyxJQUFhO1FBQ3RCQTtJQUFkLE1BQU1DLE9BQU8sQ0FBQ0QsQ0FBQUEsYUFBQUEsS0FBS0MsSUFBSSxjQUFURCx3QkFBQUEsYUFBYSxFQUFDLEVBQUdFLFdBQVc7UUFDNUJGO0lBQWQsTUFBTUcsT0FBTyxDQUFDSCxDQUFBQSxhQUFBQSxLQUFLRyxJQUFJLGNBQVRILHdCQUFBQSxhQUFhLEVBQUMsRUFBR0UsV0FBVztJQUMxQyxJQUFJRCxLQUFLRyxRQUFRLENBQUMsV0FBV0QsU0FBUyxtQkFDcEMsT0FBTztRQUFFRSxNQUFNO1FBQW9CQyxPQUFPO1FBQWdCQyxTQUFTO0lBQVk7SUFDakYsSUFBSU4sS0FBS0csUUFBUSxDQUFDLFdBQVdELFNBQVMsYUFDcEMsT0FBTztRQUFFRSxNQUFNO1FBQWtCQyxPQUFPO1FBQWlCQyxTQUFTO0lBQWE7SUFDakYsSUFBSU4sS0FBS0csUUFBUSxDQUFDLFdBQVdILEtBQUtHLFFBQVEsQ0FBQyxZQUFZRCxLQUFLSyxRQUFRLENBQUMsU0FDbkUsT0FBTztRQUFFSCxNQUFNO1FBQWtCQyxPQUFPO1FBQW1CQyxTQUFTO0lBQWU7SUFDckYsSUFBSU4sS0FBS0csUUFBUSxDQUFDLFdBQVdELFNBQVMsYUFDcEMsT0FBTztRQUFFRSxNQUFNO1FBQWtCQyxPQUFPO1FBQWlCQyxTQUFTO0lBQWE7SUFDakYsSUFBSU4sS0FBS0csUUFBUSxDQUFD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Z0JBQUNRLE1BQU1xQyxhQUFhckMsSUFBSTtnQkFBRXdGLFNBQVNuRCxhQUFhbUQsT0FBTztnQkFBRThILFNBQVMsSUFBTWhMLGdCQUFnQjs7Ozs7Ozs7Ozs7O0FBSTdHO0dBcGxCd0J4Qjs7UUFDUG5DLHNEQUFTQTtRQUNhRyw4REFBV0E7UUFDSUMsd0VBQWNBO1FBQ2NDLGtFQUFXQTtRQUN0RUMsa0VBQVdBO1FBQ2xCQyxpRUFBY0E7OztLQU5ONEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwLyhmb3JtKS9mb3JtL2RvY3VtZW50cy9wYWdlLnRzeD9kMzcxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHsgSWNvbiB9IGZyb20gXCJAaWNvbmlmeS9yZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VGb3JtRGF0YSB9IGZyb20gXCJAL2NvbnRleHRzL0Zvcm1Db250ZXh0XCI7XHJcbmltcG9ydCB7IHVzZUZvcm1BY3Rpb25zIH0gZnJvbSBcIkAvY29udGV4dHMvRm9ybUFjdGlvbnNDb250ZXh0XCI7XHJcbmltcG9ydCB7IHVzZVNlcnZpY2VzIH0gZnJvbSBcIkAvY29udGV4dHMvU2VydmljZXNDb250ZXh0XCI7XHJcbmltcG9ydCB7IHVzZUN1cnJlbmN5IH0gZnJvbSBcIkAvY29udGV4dHMvQ3VycmVuY3lDb250ZXh0XCI7XHJcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSBcIkAvaG9va3MvdXNlVHJhbnNsYXRpb25cIjtcclxuaW1wb3J0IHsgdXBsb2FkRG9jdW1lbnQsIGRlbGV0ZURvY3VtZW50IH0gZnJvbSBcIkAvbGliL3V0aWxzL2Zvcm1EcmFmdFwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2aWNlUHJpY2VJbkN1cnJlbmN5LCBnZXRPcHRpb25QcmljZUluQ3VycmVuY3kgfSBmcm9tIFwiQC9saWIvdXRpbHMvcHJpY2luZ1wiO1xyXG5pbXBvcnQgeyBmb3JtYXRQcmljZVN5bmMgfSBmcm9tIFwiQC9saWIvdXRpbHMvY3VycmVuY3lcIjtcclxuaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tIFwiQC9jb21wb25lbnRzL2Zvcm0vTm90aWZpY2F0aW9uXCI7XHJcbmltcG9ydCB0eXBlIHsgRm9ybURhdGEgfSBmcm9tIFwiQC9saWIvZm9ybURhdGFcIjtcclxuXHJcbmNvbnN0IEFQT1NUSUxMRV9TRVJWSUNFX0lEID0gXCI0NzNmYjY3Ny00ZGQzLTQ3NjYtODIyMS0wMjUwZWEzNDQwY2RcIjtcclxuXHJcbmNvbnN0IEFMTE9XRURfVFlQRVMgPSBbXHJcbiAgXCJhcHBsaWNhdGlvbi9wZGZcIixcclxuICBcImltYWdlL3BuZ1wiLFxyXG4gIFwiaW1hZ2UvanBnXCIsXHJcbiAgXCJpbWFnZS9qcGVnXCIsXHJcbiAgXCJpbWFnZS9naWZcIixcclxuICBcImltYWdlL3dlYnBcIixcclxuXTtcclxuY29uc3QgTUFYX1NJWkUgPSA1MCAqIDEwMjQgKiAxMDI0O1xyXG5cclxudHlwZSBEb2NGaWxlID0ge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzaXplOiBudW1iZXI7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIHBhdGg/OiBzdHJpbmc7XHJcbiAgdXJsPzogc3RyaW5nO1xyXG4gIGRhdGFVcmw/OiBzdHJpbmc7XHJcbiAgc2VsZWN0ZWRPcHRpb25zPzogc3RyaW5nW107XHJcbiAgZXJyb3I/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRGaWxlVHlwZUljb24oZmlsZTogRG9jRmlsZSkge1xyXG4gIGNvbnN0IG5hbWUgPSAoZmlsZS5uYW1lID8/IFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgdHlwZSA9IChmaWxlLnR5cGUgPz8gXCJcIikudG9Mb3dlckNhc2UoKTtcclxuICBpZiAobmFtZS5lbmRzV2l0aChcIi5wZGZcIikgfHwgdHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIilcclxuICAgIHJldHVybiB7IGljb246IFwibWRpOmZpbGUtcGRmLWJveFwiLCBjb2xvcjogXCJ0ZXh0LXJlZC02MDBcIiwgYmdDb2xvcjogXCJiZy1yZWQtNTBcIiB9O1xyXG4gIGlmIChuYW1lLmVuZHNXaXRoKFwiLnBuZ1wiKSB8fCB0eXBlID09PSBcImltYWdlL3BuZ1wiKVxyXG4gICAgcmV0dXJuIHsgaWNvbjogXCJtZGk6ZmlsZS1pbWFnZVwiLCBjb2xvcjogXCJ0ZXh0LWJsdWUtNjAwXCIsIGJnQ29sb3I6IFwiYmctYmx1ZS01MFwiIH07XHJcbiAgaWYgKG5hbWUuZW5kc1dpdGgoXCIuanBnXCIpIHx8IG5hbWUuZW5kc1dpdGgoXCIuanBlZ1wiKSB8fCB0eXBlLmluY2x1ZGVzKFwianBlZ1wiKSlcclxuICAgIHJldHVybiB7IGljb246IFwibWRpOmZpbGUtaW1hZ2VcIiwgY29sb3I6IFwidGV4dC1wdXJwbGUtNjAwXCIsIGJnQ29sb3I6IFwiYmctcHVycGxlLTUwXCIgfTtcclxuICBpZiAobmFtZS5lbmRzV2l0aChcIi5naWZcIikgfHwgdHlwZSA9PT0gXCJpbWFnZS9naWZcIilcclxuICAgIHJldHVybiB7IGljb246IFwibWRpOmZpbGUtaW1hZ2VcIiwgY29sb3I6IFwidGV4dC1waW5rLTYwMFwiLCBiZ0NvbG9yOiBcImJnLXBpbmstNTBcIiB9O1xyXG4gIGlmIChuYW1lLmVuZHNXaXRoKFwiLndlYnBcIikgfHwgdHlwZSA9PT0gXCJpbWFnZS93ZWJwXCIpXHJcbiAgICByZXR1cm4geyBpY29uOiBcIm1kaTpmaWxlLWltYWdlXCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNjAwXCIsIGJnQ29sb3I6IFwiYmctZ3JlZW4tNTBcIiB9O1xyXG4gIHJldHVybiB7IGljb246IFwiaGVyb2ljb25zOmRvY3VtZW50XCIsIGNvbG9yOiBcInRleHQtZ3JheS02MDBcIiwgYmdDb2xvcjogXCJiZy1ncmF5LTUwXCIgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJ1bmNhdGVGaWxlTmFtZShmaWxlTmFtZTogc3RyaW5nLCBpc01vYmlsZTogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgaWYgKGlzTW9iaWxlICYmIGZpbGVOYW1lLmxlbmd0aCA+IDMwKSB7XHJcbiAgICBjb25zdCBleHQgPSBmaWxlTmFtZS5zdWJzdHJpbmcoZmlsZU5hbWUubGFzdEluZGV4T2YoXCIuXCIpKTtcclxuICAgIGNvbnN0IG5hbWVXaXRob3V0RXh0ID0gZmlsZU5hbWUuc3Vic3RyaW5nKDAsIGZpbGVOYW1lLmxhc3RJbmRleE9mKFwiLlwiKSk7XHJcbiAgICByZXR1cm4gbmFtZVdpdGhvdXRFeHQuc3Vic3RyaW5nKDAsIDMwIC0gZXh0Lmxlbmd0aCAtIDMpICsgXCIuLi5cIiArIGV4dDtcclxuICB9XHJcbiAgcmV0dXJuIGZpbGVOYW1lO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEb2N1bWVudHNQYWdlKCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHsgZm9ybURhdGEsIHVwZGF0ZUZvcm1EYXRhIH0gPSB1c2VGb3JtRGF0YSgpO1xyXG4gIGNvbnN0IHsgcmVnaXN0ZXJDb250aW51ZUhhbmRsZXIsIHNldElzVXBsb2FkaW5nIH0gPSB1c2VGb3JtQWN0aW9ucygpO1xyXG4gIGNvbnN0IHsgZ2V0U2VydmljZXNCeUlkcywgb3B0aW9ucywgbG9hZGluZzogc2VydmljZXNMb2FkaW5nLCBnZXRTZXJ2aWNlTmFtZSB9ID0gdXNlU2VydmljZXMoKTtcclxuICBjb25zdCB7IGN1cnJlbmN5IH0gPSB1c2VDdXJyZW5jeSgpO1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oKTtcclxuXHJcbiAgY29uc3QgW3NlcnZpY2VzLCBzZXRTZXJ2aWNlc10gPSB1c2VTdGF0ZTx7IHNlcnZpY2VfaWQ6IHN0cmluZzsgbmFtZT86IHN0cmluZzsgW2tleTogc3RyaW5nXTogdW5rbm93biB9W10+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbdXBsb2FkaW5nU2VydmljZXMsIHNldFVwbG9hZGluZ1NlcnZpY2VzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XHJcbiAgY29uc3QgW3ZpZXdpbmdGaWxlLCBzZXRWaWV3aW5nRmlsZV0gPSB1c2VTdGF0ZTxEb2NGaWxlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzTW9iaWxlLCBzZXRJc01vYmlsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Zvb3RlclBhZGRpbmcsIHNldEZvb3RlclBhZGRpbmddID0gdXNlU3RhdGUoMTYwKTtcclxuICBjb25zdCBbbm90aWZpY2F0aW9uLCBzZXROb3RpZmljYXRpb25dID0gdXNlU3RhdGU8eyB0eXBlOiBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiB8IFwid2FybmluZ1wiOyBtZXNzYWdlOiBzdHJpbmcgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHNjcm9sbENvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3Qgc2F2ZWRTY3JvbGxQb3NpdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBmaWxlSW5wdXRSZWZzID0gdXNlUmVmPFJlY29yZDxzdHJpbmcsIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPj4oe30pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNlcnZpY2VzTG9hZGluZykge1xyXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBpZHMgPSBmb3JtRGF0YS5zZWxlY3RlZFNlcnZpY2VzID8/IFtdO1xyXG4gICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHNldFNlcnZpY2VzKGdldFNlcnZpY2VzQnlJZHMoaWRzKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRTZXJ2aWNlcyhbXSk7XHJcbiAgICB9XHJcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICB9LCBbZm9ybURhdGEuc2VsZWN0ZWRTZXJ2aWNlcywgZ2V0U2VydmljZXNCeUlkcywgc2VydmljZXNMb2FkaW5nXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja01vYmlsZSA9ICgpID0+IHNldElzTW9iaWxlKHdpbmRvdy5pbm5lcldpZHRoIDwgNjQwKTtcclxuICAgIGNoZWNrTW9iaWxlKCk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBjaGVja01vYmlsZSk7XHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2hlY2tNb2JpbGUpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCByZXNpemVPYnNlcnZlcjogUmVzaXplT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcclxuICAgIGxldCBjaGVja0ludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD4gfCBudWxsID0gbnVsbDtcclxuICAgIGxldCByZXNpemVIYW5kbGVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcclxuICAgIGNvbnN0IGNhbGN1bGF0ZUZvb3RlclBhZGRpbmcgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlcj1cIm5vdGFyeS1mb3JtXCJdJyk7XHJcbiAgICAgIGlmIChmb290ZXIgJiYgZm9vdGVyLm9mZnNldEhlaWdodCA+IDApIHtcclxuICAgICAgICBjb25zdCBmb290ZXJIZWlnaHQgPSBmb290ZXIub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGRlc2lyZWRHYXAgPSBpc01vYmlsZSA/IDUwIDogMjA7XHJcbiAgICAgICAgc2V0Rm9vdGVyUGFkZGluZyhmb290ZXJIZWlnaHQgKyBkZXNpcmVkR2FwKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0dXAgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvb3Rlcj1cIm5vdGFyeS1mb3JtXCJdJyk7XHJcbiAgICAgIGlmIChmb290ZXIgJiYgZm9vdGVyLm9mZnNldEhlaWdodCA+IDApIHtcclxuICAgICAgICBpZiAoIXJlc2l6ZU9ic2VydmVyKSB7XHJcbiAgICAgICAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihjYWxjdWxhdGVGb290ZXJQYWRkaW5nKTtcclxuICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZm9vdGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXNpemVIYW5kbGVyKSB7XHJcbiAgICAgICAgICByZXNpemVIYW5kbGVyID0gY2FsY3VsYXRlRm9vdGVyUGFkZGluZztcclxuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxjdWxhdGVGb290ZXJQYWRkaW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHQxID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICghc2V0dXAoKSkge1xyXG4gICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XHJcbiAgICAgICAgY2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgIGF0dGVtcHRzKys7XHJcbiAgICAgICAgICBpZiAoc2V0dXAoKSB8fCBhdHRlbXB0cyA+PSAzMCkge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcclxuICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IDMwKSBzZXRGb290ZXJQYWRkaW5nKGlzTW9iaWxlID8gMTEwIDogMTAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICB9XHJcbiAgICB9LCAyMDApO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHQxKTtcclxuICAgICAgcmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgaWYgKGNoZWNrSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgIGlmIChyZXNpemVIYW5kbGVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemVIYW5kbGVyKTtcclxuICAgIH07XHJcbiAgfSwgW2lzTW9iaWxlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvblJlZi5jdXJyZW50ICE9PSBudWxsICYmIHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50ICYmIHNhdmVkU2Nyb2xsUG9zaXRpb25SZWYuY3VycmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2F2ZWRTY3JvbGxQb3NpdGlvblJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtmb3JtRGF0YS5zZXJ2aWNlRG9jdW1lbnRzXSk7XHJcblxyXG4gIGNvbnN0IGlzQW55VXBsb2FkaW5nID0gT2JqZWN0LnZhbHVlcyh1cGxvYWRpbmdTZXJ2aWNlcykuc29tZShCb29sZWFuKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldElzVXBsb2FkaW5nKGlzQW55VXBsb2FkaW5nKTtcclxuICB9LCBbaXNBbnlVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Piwgc2VydmljZUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzID8/IFtdKTtcclxuICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgaW52YWxpZCA9IGZpbGVzLmZpbHRlcigoZikgPT4gIUFMTE9XRURfVFlQRVMuaW5jbHVkZXMoZi50eXBlLnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgaWYgKGludmFsaWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHNldE5vdGlmaWNhdGlvbih7XHJcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXHJcbiAgICAgICAgICBtZXNzYWdlOiB0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMuaW52YWxpZEZpbGVGb3JtYXRcIikucmVwbGFjZShcIntmaWxlTmFtZXN9XCIsIGludmFsaWQubWFwKChmKSA9PiBmLm5hbWUpLmpvaW4oXCIsIFwiKSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VXBsb2FkaW5nU2VydmljZXMoKHApID0+ICh7IC4uLnAsIFtzZXJ2aWNlSWRdOiB0cnVlIH0pKTtcclxuICAgICAgaWYgKHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50KSBzYXZlZFNjcm9sbFBvc2l0aW9uUmVmLmN1cnJlbnQgPSBzY3JvbGxDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3A7XHJcbiAgICAgIGNvbnN0IGlucHV0RWwgPSBlLnRhcmdldDtcclxuICAgICAgaW5wdXRFbC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBpZiAoaW5wdXRFbCkgaW5wdXRFbC52YWx1ZSA9IFwiXCI7IH0sIDApO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJmb3JtU2Vzc2lvbklkXCIpID8/IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCB1cGxvYWRlZDogRG9jRmlsZVtdID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IE1BWF9TSVpFKSB7XHJcbiAgICAgICAgICAgIHNldE5vdGlmaWNhdGlvbih7IHR5cGU6IFwiZXJyb3JcIiwgbWVzc2FnZTogdChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLmZpbGVUb29MYXJnZVwiKSB9KTtcclxuICAgICAgICAgICAgdXBsb2FkZWQucHVzaCh7IG5hbWU6IGZpbGUubmFtZSwgc2l6ZTogZmlsZS5zaXplLCB0eXBlOiBmaWxlLnR5cGUsIGVycm9yOiBcIkZpbGUgdG9vIGxhcmdlXCIgfSk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdSA9IGF3YWl0IHVwbG9hZERvY3VtZW50KGZpbGUsIHNlcnZpY2VJZCwgc2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgdXBsb2FkZWQucHVzaCh7XHJcbiAgICAgICAgICAgICAgbmFtZTogdS5uYW1lLFxyXG4gICAgICAgICAgICAgIHNpemU6IHUuc2l6ZSxcclxuICAgICAgICAgICAgICB0eXBlOiB1LnR5cGUsXHJcbiAgICAgICAgICAgICAgcGF0aDogdS5wYXRoLFxyXG4gICAgICAgICAgICAgIHVybDogdS51cmwsXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBbXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgdXBsb2FkZWQucHVzaCh7IG5hbWU6IGZpbGUubmFtZSwgc2l6ZTogZmlsZS5zaXplLCB0eXBlOiBmaWxlLnR5cGUsIGVycm9yOiBcIlVwbG9hZCBmYWlsZWRcIiB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9rID0gdXBsb2FkZWQuZmlsdGVyKCh4KSA9PiAheC5lcnJvcik7XHJcbiAgICAgICAgY29uc3QgZmFpbGVkID0gdXBsb2FkZWQuZmlsdGVyKCh4KSA9PiB4LmVycm9yKTtcclxuICAgICAgICBpZiAoZmFpbGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHNldE5vdGlmaWNhdGlvbih7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgbWVzc2FnZTogdChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnVwbG9hZEVycm9yXCIpIHx8IGAke2ZhaWxlZC5sZW5ndGh9IGZpY2hpZXIocykgZW4gw6ljaGVjYCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdXBkYXRlRm9ybURhdGEoKHByZXY6IEZvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSB7IC4uLihwcmV2LnNlcnZpY2VEb2N1bWVudHMgPz8ge30pIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gKGRvY3Nbc2VydmljZUlkXSA/PyBbXSkgYXMgRG9jRmlsZVtdO1xyXG4gICAgICAgICAgICBkb2NzW3NlcnZpY2VJZF0gPSBbLi4uZXhpc3RpbmcsIC4uLm9rXTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc2VydmljZURvY3VtZW50czogZG9jcyB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZXROb3RpZmljYXRpb24oeyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWVzc2FnZTogdChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnVwbG9hZFN1Y2Nlc3NcIikgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldFVwbG9hZGluZ1NlcnZpY2VzKChwKSA9PiAoeyAuLi5wLCBbc2VydmljZUlkXTogZmFsc2UgfSkpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW3VwZGF0ZUZvcm1EYXRhLCB0XVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZUZpbGUgPSB1c2VDYWxsYmFjayhcclxuICAgIGFzeW5jIChzZXJ2aWNlSWQ6IHN0cmluZywgZmlsZUluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgY29uc3QgZG9jcyA9IGZvcm1EYXRhLnNlcnZpY2VEb2N1bWVudHM/LltzZXJ2aWNlSWRdIGFzIERvY0ZpbGVbXSB8IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgZmlsZSA9IGRvY3M/LltmaWxlSW5kZXhdO1xyXG4gICAgICBpZiAoZmlsZT8ucGF0aCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBkZWxldGVEb2N1bWVudChmaWxlLnBhdGgpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgLyogaWdub3JlICovXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZUZvcm1EYXRhKChwcmV2OiBGb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VEb2N1bWVudHMgPSB7IC4uLihwcmV2LnNlcnZpY2VEb2N1bWVudHMgPz8ge30pIH07XHJcbiAgICAgICAgY29uc3QgYXJyID0gWy4uLigoc2VydmljZURvY3VtZW50c1tzZXJ2aWNlSWRdID8/IFtdKSBhcyBEb2NGaWxlW10pXTtcclxuICAgICAgICBhcnIuc3BsaWNlKGZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDApIGRlbGV0ZSBzZXJ2aWNlRG9jdW1lbnRzW3NlcnZpY2VJZF07XHJcbiAgICAgICAgZWxzZSBzZXJ2aWNlRG9jdW1lbnRzW3NlcnZpY2VJZF0gPSBhcnI7XHJcbiAgICAgICAgcmV0dXJuIHsgc2VydmljZURvY3VtZW50cyB9O1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBbZm9ybURhdGEuc2VydmljZURvY3VtZW50cywgdXBkYXRlRm9ybURhdGFdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlT3B0aW9uID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoc2VydmljZUlkOiBzdHJpbmcsIGZpbGVJbmRleDogbnVtYmVyLCBvcHRpb25JZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHVwZGF0ZUZvcm1EYXRhKChwcmV2OiBGb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VEb2N1bWVudHMgPSB7IC4uLihwcmV2LnNlcnZpY2VEb2N1bWVudHMgPz8ge30pIH07XHJcbiAgICAgICAgY29uc3QgYXJyID0gWy4uLigoc2VydmljZURvY3VtZW50c1tzZXJ2aWNlSWRdID8/IFtdKSBhcyBEb2NGaWxlW10pXTtcclxuICAgICAgICBjb25zdCBmaWxlID0gYXJyW2ZpbGVJbmRleF07XHJcbiAgICAgICAgaWYgKCFmaWxlKSByZXR1cm4gcHJldjtcclxuICAgICAgICBjb25zdCBvcHRzID0gZmlsZS5zZWxlY3RlZE9wdGlvbnMgPz8gW107XHJcbiAgICAgICAgY29uc3QgbmV4dCA9IG9wdHMuaW5jbHVkZXMob3B0aW9uSWQpID8gb3B0cy5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gb3B0aW9uSWQpIDogWy4uLm9wdHMsIG9wdGlvbklkXTtcclxuICAgICAgICBhcnJbZmlsZUluZGV4XSA9IHsgLi4uZmlsZSwgc2VsZWN0ZWRPcHRpb25zOiBuZXh0IH07XHJcbiAgICAgICAgc2VydmljZURvY3VtZW50c1tzZXJ2aWNlSWRdID0gYXJyO1xyXG4gICAgICAgIHJldHVybiB7IHNlcnZpY2VEb2N1bWVudHMgfTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgW3VwZGF0ZUZvcm1EYXRhXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGdldFRvdGFsUHJpY2UgPSB1c2VDYWxsYmFjayhcclxuICAgIChzZXJ2aWNlOiB7IHNlcnZpY2VfaWQ6IHN0cmluZzsgW2tleTogc3RyaW5nXTogdW5rbm93biB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZpbGVzID0gKGZvcm1EYXRhLnNlcnZpY2VEb2N1bWVudHM/LltzZXJ2aWNlLnNlcnZpY2VfaWRdID8/IFtdKSBhcyBEb2NGaWxlW107XHJcbiAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgIGNvbnN0IHByaWNlUGVyRG9jID0gZ2V0U2VydmljZVByaWNlSW5DdXJyZW5jeShzZXJ2aWNlIGFzIHsgc2VydmljZV9pZDogc3RyaW5nOyBiYXNlX3ByaWNlPzogbnVtYmVyOyBwcmljZV91c2Q/OiBudW1iZXI7IHByaWNlX2dicD86IG51bWJlciB9LCBjdXJyZW5jeSk7XHJcbiAgICAgIGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcclxuICAgICAgICB0b3RhbCArPSBwcmljZVBlckRvYztcclxuICAgICAgICAoZmlsZS5zZWxlY3RlZE9wdGlvbnMgPz8gW10pLmZvckVhY2goKG9wdElkKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvcHQgPSBvcHRpb25zLmZpbmQoKG8pID0+IG8ub3B0aW9uX2lkID09PSBvcHRJZCk7XHJcbiAgICAgICAgICBpZiAob3B0KSB0b3RhbCArPSBnZXRPcHRpb25QcmljZUluQ3VycmVuY3kob3B0LCBjdXJyZW5jeSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZm9ybWF0UHJpY2VTeW5jKHRvdGFsLCBjdXJyZW5jeSk7XHJcbiAgICB9LFxyXG4gICAgW2Zvcm1EYXRhLnNlcnZpY2VEb2N1bWVudHMsIG9wdGlvbnMsIGN1cnJlbmN5XVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoaXNBbnlVcGxvYWRpbmcpIHtcclxuICAgICAgc2V0Tm90aWZpY2F0aW9uKHsgdHlwZTogXCJ3YXJuaW5nXCIsIG1lc3NhZ2U6IHQoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy51cGxvYWRJblByb2dyZXNzXCIpIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByb3V0ZXIucHVzaChcIi9mb3JtL2RlbGl2ZXJ5XCIpO1xyXG4gIH0sIFtpc0FueVVwbG9hZGluZywgcm91dGVyLCB0XSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZWdpc3RlckNvbnRpbnVlSGFuZGxlcihoYW5kbGVOZXh0KTtcclxuICB9LCBbcmVnaXN0ZXJDb250aW51ZUhhbmRsZXIsIGhhbmRsZU5leHRdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCBmbGV4IGZsZXgtY29sIHJlbGF0aXZlIG1heC13LWZ1bGwgb3ZlcmZsb3cteC1oaWRkZW5cIj5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17c2Nyb2xsQ29udGFpbmVyUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gb3ZlcmZsb3cteC1oaWRkZW4gcHgtMyBzbTpweC00IG1kOnB4LTYgcHQtNCBzbTpwdC02IG1kOnB0LTggdy1mdWxsIG1heC13LWZ1bGxcIlxyXG4gICAgICAgIHN0eWxlPXt7IG1pbkhlaWdodDogMCwgcGFkZGluZ0JvdHRvbTogaXNNb2JpbGUgPyBgJHtmb290ZXJQYWRkaW5nfXB4YCA6IFwiMTQ0cHhcIiB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BtYXgtdy00eGwgbXgtYXV0byB3LWZ1bGwgJHtzZXJ2aWNlcy5sZW5ndGggPT09IDEgJiYgaXNNb2JpbGUgJiYgIWxvYWRpbmcgPyBcImgtZnVsbCBmbGV4IGZsZXgtY29sIG1pbi1oLTBcIiA6IFwiXCJ9YH0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTMgc206bWItNCBmbGV4LXNocmluay0wXCI+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2Ugc206dGV4dC1sZyBtZDp0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0xIHNtOm1iLTJcIj5cclxuICAgICAgICAgICAgICB7dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnRpdGxlXCIpfVxyXG4gICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ncmF5LTYwMCBtYi0yXCI+e3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5zdWJ0aXRsZVwiKX08L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJsYWNrIGJvcmRlci10LXRyYW5zcGFyZW50XCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogc2VydmljZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPnt0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMubm9TZXJ2aWNlc1NlbGVjdGVkXCIpfTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNwYWNlLXktMyBzbTpzcGFjZS15LTQgdy1mdWxsIG1heC13LWZ1bGwgJHtzZXJ2aWNlcy5sZW5ndGggPT09IDEgJiYgaXNNb2JpbGUgPyBcImZsZXggZmxleC1jb2wgZmxleC0xIG1pbi1oLTBcIiA6IFwiXCJ9YH0+XHJcbiAgICAgICAgICAgICAge3NlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSAoZm9ybURhdGEuc2VydmljZURvY3VtZW50cz8uW3NlcnZpY2Uuc2VydmljZV9pZF0gPz8gW10pIGFzIERvY0ZpbGVbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVDb3VudCA9IGZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gZ2V0U2VydmljZVByaWNlKHNlcnZpY2UgYXMgeyBzZXJ2aWNlX2lkOiBzdHJpbmc7IGJhc2VfcHJpY2U/OiBudW1iZXI7IHByaWNlX3VzZD86IG51bWJlcjsgcHJpY2VfZ2JwPzogbnVtYmVyIH0sIGN1cnJlbmN5KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQ3VyID0gZ2V0U2VydmljZVByaWNlQ3VycmVuY3koc2VydmljZSBhcyB7IHNlcnZpY2VfaWQ6IHN0cmluZzsgcHJpY2VfdXNkPzogbnVtYmVyOyBwcmljZV9nYnA/OiBudW1iZXIgfSwgY3VycmVuY3kpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkaW5nID0gdXBsb2FkaW5nU2VydmljZXNbc2VydmljZS5zZXJ2aWNlX2lkXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQXBvc3RpbGxlU2VydmljZSA9IHNlcnZpY2Uuc2VydmljZV9pZCA9PT0gQVBPU1RJTExFX1NFUlZJQ0VfSUQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRUYWtlRnVsbEhlaWdodCA9IHNlcnZpY2VzLmxlbmd0aCA9PT0gMSAmJiBpc01vYmlsZSAmJiBmaWxlcy5sZW5ndGggPT09IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17c2VydmljZS5zZXJ2aWNlX2lkfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJnLXdoaXRlIHJvdW5kZWQteGwgc206cm91bmRlZC0yeGwgcC00IHNtOnAtNiBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHctZnVsbCBtYXgtdy1mdWxsIGJveC1ib3JkZXIgJHtzaG91bGRUYWtlRnVsbEhlaWdodCA/IFwiZmxleC0xIGZsZXggZmxleC1jb2wgbWluLWgtMFwiIDogXCJcIn1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzTW9iaWxlICYmIGZpbGVzLmxlbmd0aCA9PT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgbWluSGVpZ2h0OiBcIjQwMHB4XCIsIGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7fVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBzbTptYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNtIHNtOnRleHQtYmFzZSB0ZXh0LWdyYXktOTAwIGJyZWFrLXdvcmRzXCI+e2dldFNlcnZpY2VOYW1lKHNlcnZpY2UpfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0wLjUgc206bXQtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0UHJpY2VTeW5jKHByaWNlLCBwcmljZUN1cil9IHt0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMucGVyRG9jdW1lbnRcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZmlsZUNvdW50ID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgc206dGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtYmxhY2sgbXQtMC41IHNtOm10LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnRvdGFsXCIpfToge2dldFRvdGFsUHJpY2Uoc2VydmljZSl9ICh7ZmlsZUNvdW50fXtcIiBcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZUNvdW50ID4gMSA/IHQoXCJmb3JtLnN0ZXBzLnN1bW1hcnkuZG9jdW1lbnRQbHVyYWxcIikgOiB0KFwiZm9ybS5zdGVwcy5zdW1tYXJ5LmRvY3VtZW50XCIpfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmxvY2sgbWItMyBzbTptYi00IHctZnVsbCAke3Nob3VsZFRha2VGdWxsSGVpZ2h0ID8gXCJmbGV4LTEgZmxleCBmbGV4LWNvbCBtaW4taC0wXCIgOiBpc01vYmlsZSAmJiBmaWxlcy5sZW5ndGggPT09IDAgPyBcImZsZXgtMSBmbGV4IGZsZXgtY29sIG1pbi1oLTBcIiA6IFwiXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGdyb3VwIHJlbGF0aXZlIGJnLWdyYXktNTAgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBwLTMgc206cC04IG1kOnAtMTIgbGc6cC0xNiB0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCBob3ZlcjpiZy1ibHVlLTUwIGhvdmVyOmJvcmRlci1ibHVlLTIwMCBhY3RpdmU6YmctYmx1ZS0xMDAgYWN0aXZlOmJvcmRlci1ibHVlLTMwMCBmb2N1cy13aXRoaW46YmctYmx1ZS01MCBmb2N1cy13aXRoaW46Ym9yZGVyLWJsdWUtMjAwIHctZnVsbCBtYXgtdy1mdWxsIG92ZXJmbG93LWhpZGRlbiAke3Nob3VsZFRha2VGdWxsSGVpZ2h0ID8gXCJmbGV4LTEgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlclwiIDogaXNNb2JpbGUgJiYgZmlsZXMubGVuZ3RoID09PSAwID8gXCJmbGV4LTEgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBtaW4taC0wXCIgOiBpc01vYmlsZSA/IFwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlclwiIDogXCJcIn1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkVGFrZUZ1bGxIZWlnaHQgJiYgaXNNb2JpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBtYXhIZWlnaHQ6IFwiMTAwJVwiLCBtaW5IZWlnaHQ6IFwiMjUwcHhcIiB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzTW9iaWxlICYmIGZpbGVzLmxlbmd0aCA9PT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgbWluSGVpZ2h0OiBcIjI1MHB4XCIsIGhlaWdodDogXCIxMDAlXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzTW9iaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG1pbkhlaWdodDogXCIyNTBweFwiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGxvYWRpbmcpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQpIHNhdmVkU2Nyb2xsUG9zaXRpb25SZWYuY3VycmVudCA9IHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlSW5wdXRSZWZzLmN1cnJlbnRbc2VydmljZS5zZXJ2aWNlX2lkXT8uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3VwbG9hZGluZyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHotMTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBiZy13aGl0ZS85MCBiYWNrZHJvcC1ibHVyLXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPVwic3ZnLXNwaW5uZXJzOnJpbmctcmVzaXplXCIgY2xhc3NOYW1lPVwibWItMyBoLTEyIHctMTIgc206aC0xNiBzbTp3LTE2IHRleHQtYmx1ZS02MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIHNtOnRleHQtYmFzZVwiPnt0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMudXBsb2FkaW5nXCIpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWdyYXktNjAwIHNtOnRleHQtc21cIj57dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnBsZWFzZVdhaXRcIil9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPVwiaHVnZWljb25zOmZpbGUtdXBsb2FkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BteC1hdXRvIG1iLTIgZmxleC1zaHJpbmstMCB0ZXh0LWJsYWNrIHRyYW5zaXRpb24tY29sb3JzIGdyb3VwLWhvdmVyOnRleHQtYmx1ZS02MDAgc206bWItNCBtZDptYi01ICR7c2hvdWxkVGFrZUZ1bGxIZWlnaHQgPyBcIm1iLTZcIiA6IFwiXCJ9IGgtOCB3LTggc206aC0xMiBzbTp3LTEyIG1kOmgtMTQgbWQ6dy0xNGB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWItMSBweC0xIGZvbnQtbWVkaXVtIHRleHQtYmxhY2sgdHJhbnNpdGlvbi1jb2xvcnMgYnJlYWstd29yZHMgZ3JvdXAtaG92ZXI6dGV4dC1ibHVlLTcwMCBzbTptYi0yIG1kOm1iLTMgJHtzaG91bGRUYWtlRnVsbEhlaWdodCA/IFwibWItMyB0ZXh0LWJhc2VcIiA6IFwiXCJ9IHRleHQteHMgc206dGV4dC1iYXNlIG1kOnRleHQtbGdgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5jbGlja1RvVXBsb2FkXCIpIHx8IFwiQ2xpY2sgaGVyZSBvciBkcmFnICYgZHJvcCB5b3VyIGRvY3VtZW50XCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYi0zIHB4LTEgYnJlYWstd29yZHMgdGV4dC1ncmF5LTYwMCBzbTptYi00ICR7c2hvdWxkVGFrZUZ1bGxIZWlnaHQgPyBcInRleHQtc21cIiA6IFwiXCJ9IHRleHQtWzEwcHhdIHNtOnRleHQteHMgbWQ6dGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy51cGxvYWREZXNjcmlwdGlvbkxvbmdcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTMgcHgtMiBzbTpmbGV4IHNtOmdhcC00IG1kOmdhcC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHRleHQtZ3JheS01MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249XCJoZXJvaWNvbnM6bG9jay1jbG9zZWRcIiBjbGFzc05hbWU9XCJoLTMgdy0zIGZsZXgtc2hyaW5rLTAgc206aC0zLjUgc206dy0zLjVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1ub3dyYXAgZm9udC1saWdodCB0ZXh0LVs5cHhdIHNtOnRleHQtWzEwcHhdXCI+e3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5lbmNyeXB0ZWRTZWN1cmVcIil9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPVwiaGVyb2ljb25zOnRyYXNoXCIgY2xhc3NOYW1lPVwiaC0zIHctMyBmbGV4LXNocmluay0wIHNtOmgtMy41IHNtOnctMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndoaXRlc3BhY2Utbm93cmFwIGZvbnQtbGlnaHQgdGV4dC1bOXB4XSBzbTp0ZXh0LVsxMHB4XVwiPnt0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMuYXV0b0RlbGV0ZWRcIil9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPVwiaGVyb2ljb25zOmNoZWNrLWJhZGdlXCIgY2xhc3NOYW1lPVwiaC0zIHctMyBmbGV4LXNocmluay0wIHNtOmgtMy41IHNtOnctMy41XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndoaXRlc3BhY2Utbm93cmFwIGZvbnQtbGlnaHQgdGV4dC1bOXB4XSBzbTp0ZXh0LVsxMHB4XVwiPnt0KFwiZm9ybS5zdGVwcy5kb2N1bWVudHMuZ2RwckNvbXBsaWFudFwiKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsoZWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJbnB1dFJlZnMuY3VycmVudFtzZXJ2aWNlLnNlcnZpY2VfaWRdID0gZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCIucGRmLC5wbmcsLmpwZywuanBlZywuZ2lmLC53ZWJwLGltYWdlLyosYXBwbGljYXRpb24vcGRmXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzci1vbmx5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17LTF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUZpbGVVcGxvYWQoZSwgc2VydmljZS5zZXJ2aWNlX2lkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxDb250YWluZXJSZWYuY3VycmVudCAmJiBzYXZlZFNjcm9sbFBvc2l0aW9uUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2F2ZWRTY3JvbGxQb3NpdGlvblJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAge2ZpbGVzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgc206c3BhY2UteS0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlcy5tYXAoKGZpbGUsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ0ID0gZ2V0RmlsZVR5cGVJY29uKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Byb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcC0zIHNtOnJvdW5kZWQteGwgc206cC00ICR7aXNNb2JpbGUgJiYgaWR4ID09PSBmaWxlcy5sZW5ndGggLSAxID8gXCJtYi0zXCIgOiBcIlwifWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBmbGV4IGZsZXgtd3JhcCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgc206bWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBtaW4tdy0wIGZsZXgtMSBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHNtOnNwYWNlLXgtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGgtOCB3LTggZmxleC1zaHJpbmstMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBzbTpoLTEwIHNtOnctMTAgJHtmdC5iZ0NvbG9yfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtmdC5pY29ufSBjbGFzc05hbWU9e2BoLTUgdy01IHNtOmgtNiBzbTp3LTYgJHtmdC5jb2xvcn1gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTAgZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRydW5jYXRlIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBzbTp0ZXh0LXNtXCIgdGl0bGU9e2ZpbGUubmFtZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RydW5jYXRlRmlsZU5hbWUoZmlsZS5uYW1lLCBpc01vYmlsZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmF5LTUwMCBzbTp0ZXh0LXhzXCI+eyhmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfSBLQjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtYXV0byBmbGV4IGZsZXgtc2hyaW5rLTAgaXRlbXMtY2VudGVyIGdhcC0xIHNtOmdhcC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWaWV3aW5nRmlsZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCByb3VuZGVkLWxnIHAtMS41IHRyYW5zaXRpb24tY29sb3JzIGhvdmVyOmJnLWdyYXktMjAwIHNtOnAtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy52aWV3XCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnZpZXdcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249XCJoZXJvaWNvbnM6ZXllXCIgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgc206aC01IHNtOnctNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZUZpbGUoc2VydmljZS5zZXJ2aWNlX2lkLCBpZHgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHJvdW5kZWQtbGcgcC0xLjUgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6YmctZ3JheS0xMDAgc206cC0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnJlbW92ZVwiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj1cImhlcm9pY29uczp0cmFzaFwiIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1yZWQtNjAwIHNtOmgtNSBzbTp3LTVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFpc0Fwb3N0aWxsZVNlcnZpY2UgJiYgb3B0aW9ucy5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMS41IGJvcmRlci10IGJvcmRlci1ncmF5LTEwMCBwdC0yIHNtOnNwYWNlLXktMiBzbTpwdC0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ucy5tYXAoKG9wdCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17b3B0Lm9wdGlvbl9pZH0gY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBtaW4tdy0wIGZsZXgtMSBjdXJzb3ItcG9pbnRlciBpdGVtcy1zdGFydCBzcGFjZS14LTEuNSBzbTpzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtdC0wLjUgZmxleC1zaHJpbmstMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbGUuc2VsZWN0ZWRPcHRpb25zPy5pbmNsdWRlcyhvcHQub3B0aW9uX2lkKSA/PyBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB0b2dnbGVPcHRpb24oc2VydmljZS5zZXJ2aWNlX2lkLCBpZHgsIG9wdC5vcHRpb25faWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGVlciBzci1vbmx5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTQgdy00IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkIGJvcmRlci0yIGJvcmRlci1ibHVlLTMwMCB0cmFuc2l0aW9uLWFsbCBwZWVyLWNoZWNrZWQ6Ym9yZGVyLWJsdWUtNjAwIHBlZXItY2hlY2tlZDpiZy1ibHVlLTYwMCBncm91cC1ob3Zlcjpib3JkZXItYmx1ZS00MDAgc206aC01IHNtOnctNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbGUuc2VsZWN0ZWRPcHRpb25zPy5pbmNsdWRlcyhvcHQub3B0aW9uX2lkKSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249XCJoZXJvaWNvbnM6Y2hlY2tcIiBjbGFzc05hbWU9XCJoLTIuNSB3LTIuNSB0ZXh0LXdoaXRlIHNtOmgtMyBzbTp3LTNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4LTEgc3BhY2UteS0wLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMS41IHNtOmdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJicmVhay13b3JkcyB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZ3JvdXAtaG92ZXI6dGV4dC1ibGFjayBzbTp0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHQubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndoaXRlc3BhY2Utbm93cmFwIGZvbnQtbm9ybWFsIHRleHQtZ3JheS01MDAgdGV4dC1bMTBweF0gc206dGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoK3tmb3JtYXRQcmljZVN5bmMoZ2V0T3B0aW9uUHJpY2Uob3B0LCBjdXJyZW5jeSkgPz8gMCwgZ2V0T3B0aW9uUHJpY2VDdXJyZW5jeShvcHQsIGN1cnJlbmN5KSl9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcHQuZGVzY3JpcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYnJlYWstd29yZHMgdGV4dC1bMTBweF0gdGV4dC1ncmF5LTYwMCBzbTp0ZXh0LXhzXCI+e29wdC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7dmlld2luZ0ZpbGUgJiZcclxuICAgICAgICBjcmVhdGVQb3J0YWwoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcclxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICAgIHpJbmRleDogOTk5OTksXHJcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2V0Vmlld2luZ0ZpbGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX1cclxuICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICAgICAgICAgIHRvcDogMjQsXHJcbiAgICAgICAgICAgICAgICByaWdodDogMjQsXHJcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAwMCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTJweCAyMHB4XCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzNiODJmNlwiLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDI1cHggNTBweCAtMTJweCByZ2JhKDAsIDAsIDAsIDAuMjUpXCIsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgZ2FwOiA4LFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxNixcclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5jbG9zZVwiKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIGljb249XCJoZXJvaWNvbnM6eC1tYXJrXCIgc3R5bGU9e3sgd2lkdGg6IDIwLCBoZWlnaHQ6IDIwIH19IC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4+e3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5jbG9zZVwiKX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDB2aFwiLCBvdmVyZmxvdzogXCJhdXRvXCIgfX0+XHJcbiAgICAgICAgICAgICAgeyh2aWV3aW5nRmlsZS5kYXRhVXJsIHx8IHZpZXdpbmdGaWxlLnVybCkgJiYgKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAge3ZpZXdpbmdGaWxlLnR5cGU/LnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMHZoXCIsIHBhZGRpbmc6IDMyIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3ZpZXdpbmdGaWxlLmRhdGFVcmwgfHwgdmlld2luZ0ZpbGUudXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3ZpZXdpbmdGaWxlLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1heFdpZHRoOiBcIjEwMCVcIiwgbWF4SGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvbnRhaW5cIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3aW5nRmlsZS51cmwgJiYgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYyAhPT0gdmlld2luZ0ZpbGUudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudCkuc3JjID0gdmlld2luZ0ZpbGUudXJsITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApIDogdmlld2luZ0ZpbGUudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCB2aWV3aW5nRmlsZS5uYW1lPy50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiLnBkZlwiKSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8aWZyYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e3ZpZXdpbmdGaWxlLmRhdGFVcmwgfHwgdmlld2luZ0ZpbGUudXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwdmhcIiwgYm9yZGVyOiAwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dmlld2luZ0ZpbGUubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjEwMHZoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMzIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPVwiaGVyb2ljb25zOmRvY3VtZW50XCIgc3R5bGU9e3sgd2lkdGg6IDgwLCBoZWlnaHQ6IDgwLCBjb2xvcjogXCIjOWNhM2FmXCIsIG1hcmdpbkJvdHRvbTogMjQgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAxNiwgY29sb3I6IFwiIzRiNTU2M1wiLCBtYXJnaW5Cb3R0b206IDI0IH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dChcImZvcm0uc3RlcHMuZG9jdW1lbnRzLnByZXZpZXdOb3RBdmFpbGFibGVcIikgfHwgXCJQcmV2aWV3IG5vdCBhdmFpbGFibGUgZm9yIHRoaXMgZmlsZSB0eXBlLlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17dmlld2luZ0ZpbGUuZGF0YVVybCB8fCB2aWV3aW5nRmlsZS51cmx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkPXt2aWV3aW5nRmlsZS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTJweCAyNHB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogOCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJmb3JtLnN0ZXBzLmRvY3VtZW50cy5kb3dubG9hZFwiKSB8fCBcIkRvd25sb2FkXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PixcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHlcclxuICAgICAgICApfVxyXG5cclxuICAgICAge25vdGlmaWNhdGlvbiAmJiAoXHJcbiAgICAgICAgPE5vdGlmaWNhdGlvbiB0eXBlPXtub3RpZmljYXRpb24udHlwZX0gbWVzc2FnZT17bm90aWZpY2F0aW9uLm1lc3NhZ2V9IG9uQ2xvc2U9eygpID0+IHNldE5vdGlmaWNhdGlvbihudWxsKX0gLz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJjcmVhdGVQb3J0YWwiLCJJY29uIiwidXNlRm9ybURhdGEiLCJ1c2VGb3JtQWN0aW9ucyIsInVzZVNlcnZpY2VzIiwidXNlQ3VycmVuY3kiLCJ1c2VUcmFuc2xhdGlvbiIsInVwbG9hZERvY3VtZW50IiwiZGVsZXRlRG9jdW1lbnQiLCJnZXRTZXJ2aWNlUHJpY2VJbkN1cnJlbmN5IiwiZ2V0T3B0aW9uUHJpY2VJbkN1cnJlbmN5IiwiZm9ybWF0UHJpY2VTeW5jIiwiTm90aWZpY2F0aW9uIiwiQVBPU1RJTExFX1NFUlZJQ0VfSUQiLCJBTExPV0VEX1RZUEVTIiwiTUFYX1NJWkUiLCJnZXRGaWxlVHlwZUljb24iLCJmaWxlIiwibmFtZSIsInRvTG93ZXJDYXNlIiwidHlwZSIsImVuZHNXaXRoIiwiaWNvbiIsImNvbG9yIiwiYmdDb2xvciIsImluY2x1ZGVzIiwidHJ1bmNhdGVGaWxlTmFtZSIsImZpbGVOYW1lIiwiaXNNb2JpbGUiLCJsZW5ndGgiLCJleHQiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsIm5hbWVXaXRob3V0RXh0IiwiRG9jdW1lbnRzUGFnZSIsInZpZXdpbmdGaWxlIiwicm91dGVyIiwiZm9ybURhdGEiLCJ1cGRhdGVGb3JtRGF0YSIsInJlZ2lzdGVyQ29udGludWVIYW5kbGVyIiwic2V0SXNVcGxvYWRpbmciLCJnZXRTZXJ2aWNlc0J5SWRzIiwib3B0aW9ucyIsImxvYWRpbmciLCJzZXJ2aWNlc0xvYWRpbmciLCJnZXRTZXJ2aWNlTmFtZSIsImN1cnJlbmN5IiwidCIsInNlcnZpY2VzIiwic2V0U2VydmljZXMiLCJzZXRMb2FkaW5nIiwidXBsb2FkaW5nU2VydmljZXMiLCJzZXRVcGxvYWRpbmdTZXJ2aWNlcyIsInNldFZpZXdpbmdGaWxlIiwic2V0SXNNb2JpbGUiLCJmb290ZXJQYWRkaW5nIiwic2V0Rm9vdGVyUGFkZGluZyIsIm5vdGlmaWNhdGlvbiIsInNldE5vdGlmaWNhdGlvbiIsInNjcm9sbENvbnRhaW5lclJlZiIsInNhdmVkU2Nyb2xsUG9zaXRpb25SZWYiLCJmaWxlSW5wdXRSZWZzIiwiaWRzIiwic2VsZWN0ZWRTZXJ2aWNlcyIsImNoZWNrTW9iaWxlIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzaXplT2JzZXJ2ZXIiLCJjaGVja0ludGVydmFsIiwicmVzaXplSGFuZGxlciIsImNhbGN1bGF0ZUZvb3RlclBhZGRpbmciLCJmb290ZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvZmZzZXRIZWlnaHQiLCJmb290ZXJIZWlnaHQiLCJkZXNpcmVkR2FwIiwic2V0dXAiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJ0MSIsInNldFRpbWVvdXQiLCJhdHRlbXB0cyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImRpc2Nvbm5lY3QiLCJjdXJyZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2Nyb2xsVG9wIiwic2VydmljZURvY3VtZW50cyIsImlzQW55VXBsb2FkaW5nIiwiT2JqZWN0IiwidmFsdWVzIiwic29tZSIsIkJvb2xlYW4iLCJoYW5kbGVGaWxlVXBsb2FkIiwiZSIsInNlcnZpY2VJZCIsImZpbGVzIiwiQXJyYXkiLCJmcm9tIiwidGFyZ2V0IiwiaW52YWxpZCIsImZpbHRlciIsImYiLCJtZXNzYWdlIiwicmVwbGFjZSIsIm1hcCIsImpvaW4iLCJ2YWx1ZSIsInAiLCJpbnB1dEVsIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvbklkIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsInVwbG9hZGVkIiwic2l6ZSIsInB1c2giLCJlcnJvciIsInUiLCJwYXRoIiwidXJsIiwic2VsZWN0ZWRPcHRpb25zIiwib2siLCJ4IiwiZmFpbGVkIiwicHJldiIsImRvY3MiLCJleGlzdGluZyIsInJlbW92ZUZpbGUiLCJmaWxlSW5kZXgiLCJhcnIiLCJzcGxpY2UiLCJ0b2dnbGVPcHRpb24iLCJvcHRpb25JZCIsIm9wdHMiLCJuZXh0IiwiaWQiLCJnZXRUb3RhbFByaWNlIiwic2VydmljZSIsInNlcnZpY2VfaWQiLCJ0b3RhbCIsInByaWNlUGVyRG9jIiwiZm9yRWFjaCIsIm9wdElkIiwib3B0IiwiZmluZCIsIm8iLCJvcHRpb25faWQiLCJoYW5kbGVOZXh0IiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwic3R5bGUiLCJtaW5IZWlnaHQiLCJwYWRkaW5nQm90dG9tIiwiaDIiLCJmaWxlQ291bnQiLCJwcmljZSIsImdldFNlcnZpY2VQcmljZSIsInByaWNlQ3VyIiwiZ2V0U2VydmljZVByaWNlQ3VycmVuY3kiLCJ1cGxvYWRpbmciLCJpc0Fwb3N0aWxsZVNlcnZpY2UiLCJzaG91bGRUYWtlRnVsbEhlaWdodCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiaDMiLCJtYXhIZWlnaHQiLCJoZWlnaHQiLCJvbkNsaWNrIiwiY2xpY2siLCJzcGFuIiwiaW5wdXQiLCJlbCIsIm11bHRpcGxlIiwiYWNjZXB0IiwidGFiSW5kZXgiLCJkaXNhYmxlZCIsIm9uQ2hhbmdlIiwic3RvcFByb3BhZ2F0aW9uIiwib25Gb2N1cyIsImlkeCIsImZ0IiwidGl0bGUiLCJ0b0ZpeGVkIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsImdldE9wdGlvblByaWNlIiwibGFiZWwiLCJjaGVja2VkIiwiZ2V0T3B0aW9uUHJpY2VDdXJyZW5jeSIsImRlc2NyaXB0aW9uIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ3aWR0aCIsImJhY2tncm91bmRDb2xvciIsInpJbmRleCIsIm92ZXJmbG93IiwicHJldmVudERlZmF1bHQiLCJvbk1vdXNlRG93biIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJib3hTaGFkb3ciLCJib3JkZXIiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiZGF0YVVybCIsInN0YXJ0c1dpdGgiLCJqdXN0aWZ5Q29udGVudCIsImltZyIsInNyYyIsImFsdCIsIm1heFdpZHRoIiwib2JqZWN0Rml0Iiwib25FcnJvciIsImlmcmFtZSIsInRleHRBbGlnbiIsIm1hcmdpbkJvdHRvbSIsImEiLCJocmVmIiwiZG93bmxvYWQiLCJ0ZXh0RGVjb3JhdGlvbiIsImJvZHkiLCJvbkNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/(form)/form/documents/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/utils/pricing.ts":
/*!******************************!*\
  !*** ./lib/utils/pricing.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELIVERY_POSTAL_PRICE_EUR: function() { return /* binding */ DELIVERY_POSTAL_PRICE_EUR; },\n/* harmony export */   calculateTotalAmount: function() { return /* binding */ calculateTotalAmount; },\n/* harmony export */   getOptionPrice: function() { return /* binding */ getOptionPrice; },\n/* harmony export */   getOptionPriceCurrency: function() { return /* binding */ getOptionPriceCurrency; },\n/* harmony export */   getOptionPriceInCurrency: function() { return /* binding */ getOptionPriceInCurrency; },\n/* harmony export */   getServicePrice: function() { return /* binding */ getServicePrice; },\n/* harmony export */   getServicePriceCurrency: function() { return /* binding */ getServicePriceCurrency; },\n/* harmony export */   getServicePriceInCurrency: function() { return /* binding */ getServicePriceInCurrency; }\n/* harmony export */ });\n/* harmony import */ var _currency__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./currency */ \"(app-pages-browser)/./lib/utils/currency.ts\");\n/**\r\n * Pricing utilities - services, options, delivery\r\n */ \nconst DELIVERY_POSTAL_PRICE_EUR = 29.95;\nfunction getServicePrice(service, currency) {\n    if (!service) return 0;\n    if (currency === \"USD\" && service.price_usd != null) return service.price_usd;\n    if (currency === \"GBP\" && service.price_gbp != null) return service.price_gbp;\n    var _service_base_price;\n    return (_service_base_price = service.base_price) !== null && _service_base_price !== void 0 ? _service_base_price : 0;\n}\nfunction getServicePriceCurrency(service, targetCurrency) {\n    if (!service) return \"EUR\";\n    if (targetCurrency === \"USD\" && service.price_usd != null) return \"USD\";\n    if (targetCurrency === \"GBP\" && service.price_gbp != null) return \"GBP\";\n    return \"EUR\";\n}\nfunction getOptionPrice(option, currency) {\n    if (!option) return 0;\n    if (currency === \"USD\" && option.price_usd != null) return option.price_usd;\n    if (currency === \"GBP\" && option.price_gbp != null) return option.price_gbp;\n    var _option_additional_price;\n    return (_option_additional_price = option.additional_price) !== null && _option_additional_price !== void 0 ? _option_additional_price : 0;\n}\nfunction getOptionPriceCurrency(option, targetCurrency) {\n    if (!option) return \"EUR\";\n    if (targetCurrency === \"USD\" && option.price_usd != null) return \"USD\";\n    if (targetCurrency === \"GBP\" && option.price_gbp != null) return \"GBP\";\n    return \"EUR\";\n}\n/**\r\n * Retourne le prix du service converti dans la devise cible.\r\n * Si la devise cible a un prix en DB (USD, GBP), l'utilise ; sinon convertit depuis EUR.\r\n */ function getServicePriceInCurrency(service, targetCurrency) {\n    if (!service) return 0;\n    const price = getServicePrice(service, targetCurrency);\n    const priceCur = getServicePriceCurrency(service, targetCurrency);\n    return priceCur === targetCurrency ? price : (0,_currency__WEBPACK_IMPORTED_MODULE_0__.convertPriceSync)(price, targetCurrency);\n}\n/**\r\n * Retourne le prix de l'option converti dans la devise cible.\r\n * Si la devise cible a un prix en DB (USD, GBP), l'utilise ; sinon convertit depuis EUR.\r\n */ function getOptionPriceInCurrency(option, targetCurrency) {\n    if (!option) return 0;\n    const price = getOptionPrice(option, targetCurrency);\n    const priceCur = getOptionPriceCurrency(option, targetCurrency);\n    return priceCur === targetCurrency ? price : (0,_currency__WEBPACK_IMPORTED_MODULE_0__.convertPriceSync)(price, targetCurrency);\n}\n\n/** Calcule le total en devise cible (pour save submission) */ function calculateTotalAmount(formData, servicesMap, optionsMap, currency) {\n    let total = 0;\n    var _formData_selectedServices;\n    ((_formData_selectedServices = formData.selectedServices) !== null && _formData_selectedServices !== void 0 ? _formData_selectedServices : []).forEach((sid)=>{\n        var _formData_serviceDocuments;\n        const service = servicesMap[sid];\n        var _formData_serviceDocuments_sid;\n        const docs = (_formData_serviceDocuments_sid = (_formData_serviceDocuments = formData.serviceDocuments) === null || _formData_serviceDocuments === void 0 ? void 0 : _formData_serviceDocuments[sid]) !== null && _formData_serviceDocuments_sid !== void 0 ? _formData_serviceDocuments_sid : [];\n        if (service) {\n            const sp = getServicePrice(service, currency);\n            const spCur = getServicePriceCurrency(service, currency);\n            const spInCur = spCur === currency ? sp : (0,_currency__WEBPACK_IMPORTED_MODULE_0__.convertPriceSync)(sp, currency);\n            total += docs.length * spInCur;\n            docs.forEach((doc)=>{\n                var _doc_selectedOptions;\n                ((_doc_selectedOptions = doc.selectedOptions) !== null && _doc_selectedOptions !== void 0 ? _doc_selectedOptions : []).forEach((optId)=>{\n                    const opt = optionsMap[optId];\n                    if (opt) {\n                        const op = getOptionPrice(opt, currency);\n                        const opCur = getOptionPriceCurrency(opt, currency);\n                        const opInCur = opCur === currency ? op : (0,_currency__WEBPACK_IMPORTED_MODULE_0__.convertPriceSync)(op, currency);\n                        total += opInCur;\n                    }\n                });\n            });\n        }\n    });\n    if (formData.deliveryMethod === \"postal\") {\n        total += currency === \"EUR\" ? DELIVERY_POSTAL_PRICE_EUR : (0,_currency__WEBPACK_IMPORTED_MODULE_0__.convertPriceSync)(DELIVERY_POSTAL_PRICE_EUR, currency);\n    }\n    return total;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi91dGlscy9wcmljaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOztDQUVDLEdBRTZDO0FBRTlDLE1BQU1DLDRCQUE0QjtBQXVCM0IsU0FBU0MsZ0JBQWdCQyxPQUE2QixFQUFFQyxRQUFnQjtJQUM3RSxJQUFJLENBQUNELFNBQVMsT0FBTztJQUNyQixJQUFJQyxhQUFhLFNBQVNELFFBQVFFLFNBQVMsSUFBSSxNQUFNLE9BQU9GLFFBQVFFLFNBQVM7SUFDN0UsSUFBSUQsYUFBYSxTQUFTRCxRQUFRRyxTQUFTLElBQUksTUFBTSxPQUFPSCxRQUFRRyxTQUFTO1FBQ3RFSDtJQUFQLE9BQU9BLENBQUFBLHNCQUFBQSxRQUFRSSxVQUFVLGNBQWxCSixpQ0FBQUEsc0JBQXNCO0FBQy9CO0FBRU8sU0FBU0ssd0JBQXdCTCxPQUE2QixFQUFFTSxjQUFzQjtJQUMzRixJQUFJLENBQUNOLFNBQVMsT0FBTztJQUNyQixJQUFJTSxtQkFBbUIsU0FBU04sUUFBUUUsU0FBUyxJQUFJLE1BQU0sT0FBTztJQUNsRSxJQUFJSSxtQkFBbUIsU0FBU04sUUFBUUcsU0FBUyxJQUFJLE1BQU0sT0FBTztJQUNsRSxPQUFPO0FBQ1Q7QUFFTyxTQUFTSSxlQUFlQyxNQUEyQixFQUFFUCxRQUFnQjtJQUMxRSxJQUFJLENBQUNPLFFBQVEsT0FBTztJQUNwQixJQUFJUCxhQUFhLFNBQVNPLE9BQU9OLFNBQVMsSUFBSSxNQUFNLE9BQU9NLE9BQU9OLFNBQVM7SUFDM0UsSUFBSUQsYUFBYSxTQUFTTyxPQUFPTCxTQUFTLElBQUksTUFBTSxPQUFPSyxPQUFPTCxTQUFTO1FBQ3BFSztJQUFQLE9BQU9BLENBQUFBLDJCQUFBQSxPQUFPQyxnQkFBZ0IsY0FBdkJELHNDQUFBQSwyQkFBMkI7QUFDcEM7QUFFTyxTQUFTRSx1QkFBdUJGLE1BQTJCLEVBQUVGLGNBQXNCO0lBQ3hGLElBQUksQ0FBQ0UsUUFBUSxPQUFPO0lBQ3BCLElBQUlGLG1CQUFtQixTQUFTRSxPQUFPTixTQUFTLElBQUksTUFBTSxPQUFPO0lBQ2pFLElBQUlJLG1CQUFtQixTQUFTRSxPQUFPTCxTQUFTLElBQUksTUFBTSxPQUFPO0lBQ2pFLE9BQU87QUFDVDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNRLDBCQUEwQlgsT0FBNkIsRUFBRU0sY0FBc0I7SUFDN0YsSUFBSSxDQUFDTixTQUFTLE9BQU87SUFDckIsTUFBTVksUUFBUWIsZ0JBQWdCQyxTQUFTTTtJQUN2QyxNQUFNTyxXQUFXUix3QkFBd0JMLFNBQVNNO0lBQ2xELE9BQU9PLGFBQWFQLGlCQUFpQk0sUUFBUWYsMkRBQWdCQSxDQUFDZSxPQUFPTjtBQUN2RTtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNRLHlCQUF5Qk4sTUFBMkIsRUFBRUYsY0FBc0I7SUFDMUYsSUFBSSxDQUFDRSxRQUFRLE9BQU87SUFDcEIsTUFBTUksUUFBUUwsZUFBZUMsUUFBUUY7SUFDckMsTUFBTU8sV0FBV0gsdUJBQXVCRixRQUFRRjtJQUNoRCxPQUFPTyxhQUFhUCxpQkFBaUJNLFFBQVFmLDJEQUFnQkEsQ0FBQ2UsT0FBT047QUFDdkU7QUFFcUM7QUFFckMsNERBQTRELEdBQ3JELFNBQVNTLHFCQUNkQyxRQUF1SCxFQUN2SEMsV0FBMEMsRUFDMUNDLFVBQXdDLEVBQ3hDakIsUUFBZ0I7SUFFaEIsSUFBSWtCLFFBQVE7UUFDWEg7SUFBQUEsQ0FBQUEsQ0FBQUEsNkJBQUFBLFNBQVNJLGdCQUFnQixjQUF6Qkosd0NBQUFBLDZCQUE2QixFQUFFLEVBQUVLLE9BQU8sQ0FBQyxDQUFDQztZQUUzQk47UUFEZCxNQUFNaEIsVUFBVWlCLFdBQVcsQ0FBQ0ssSUFBSTtZQUNsQk47UUFBZCxNQUFNTyxPQUFRUCxDQUFBQSxrQ0FBQUEsNkJBQUFBLFNBQVNRLGdCQUFnQixjQUF6QlIsaURBQUFBLDBCQUEyQixDQUFDTSxJQUFJLGNBQWhDTiw0Q0FBQUEsaUNBQW9DLEVBQUU7UUFDcEQsSUFBSWhCLFNBQVM7WUFDWCxNQUFNeUIsS0FBSzFCLGdCQUFnQkMsU0FBU0M7WUFDcEMsTUFBTXlCLFFBQVFyQix3QkFBd0JMLFNBQVNDO1lBQy9DLE1BQU0wQixVQUFVRCxVQUFVekIsV0FBV3dCLEtBQUs1QiwyREFBZ0JBLENBQUM0QixJQUFJeEI7WUFDL0RrQixTQUFTSSxLQUFLSyxNQUFNLEdBQUdEO1lBQ3ZCSixLQUFLRixPQUFPLENBQUMsQ0FBQ1E7b0JBQ1hBO2dCQUFBQSxDQUFBQSxDQUFBQSx1QkFBQUEsSUFBSUMsZUFBZSxjQUFuQkQsa0NBQUFBLHVCQUF1QixFQUFFLEVBQUVSLE9BQU8sQ0FBQyxDQUFDVTtvQkFDbkMsTUFBTUMsTUFBTWQsVUFBVSxDQUFDYSxNQUFNO29CQUM3QixJQUFJQyxLQUFLO3dCQUNQLE1BQU1DLEtBQUsxQixlQUFleUIsS0FBSy9CO3dCQUMvQixNQUFNaUMsUUFBUXhCLHVCQUF1QnNCLEtBQUsvQjt3QkFDMUMsTUFBTWtDLFVBQVVELFVBQVVqQyxXQUFXZ0MsS0FBS3BDLDJEQUFnQkEsQ0FBQ29DLElBQUloQzt3QkFDL0RrQixTQUFTZ0I7b0JBQ1g7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFDQSxJQUFJbkIsU0FBU29CLGNBQWMsS0FBSyxVQUFVO1FBQ3hDakIsU0FBU2xCLGFBQWEsUUFBUUgsNEJBQTRCRCwyREFBZ0JBLENBQUNDLDJCQUEyQkc7SUFDeEc7SUFDQSxPQUFPa0I7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvdXRpbHMvcHJpY2luZy50cz80NTkxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBQcmljaW5nIHV0aWxpdGllcyAtIHNlcnZpY2VzLCBvcHRpb25zLCBkZWxpdmVyeVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNvbnZlcnRQcmljZVN5bmMgfSBmcm9tIFwiLi9jdXJyZW5jeVwiO1xyXG5cclxuY29uc3QgREVMSVZFUllfUE9TVEFMX1BSSUNFX0VVUiA9IDI5Ljk1O1xyXG5cclxuZXhwb3J0IHR5cGUgU2VydmljZVJlY29yZCA9IHtcclxuICBzZXJ2aWNlX2lkOiBzdHJpbmc7XHJcbiAgYmFzZV9wcmljZT86IG51bWJlcjtcclxuICBwcmljZV91c2Q/OiBudW1iZXI7XHJcbiAgcHJpY2VfZ2JwPzogbnVtYmVyO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgY29sb3I/OiBzdHJpbmc7XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgT3B0aW9uUmVjb3JkID0ge1xyXG4gIG9wdGlvbl9pZDogc3RyaW5nO1xyXG4gIGFkZGl0aW9uYWxfcHJpY2U/OiBudW1iZXI7XHJcbiAgcHJpY2VfdXNkPzogbnVtYmVyO1xyXG4gIHByaWNlX2dicD86IG51bWJlcjtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmljZVByaWNlKHNlcnZpY2U6IFNlcnZpY2VSZWNvcmQgfCBudWxsLCBjdXJyZW5jeTogc3RyaW5nKTogbnVtYmVyIHtcclxuICBpZiAoIXNlcnZpY2UpIHJldHVybiAwO1xyXG4gIGlmIChjdXJyZW5jeSA9PT0gXCJVU0RcIiAmJiBzZXJ2aWNlLnByaWNlX3VzZCAhPSBudWxsKSByZXR1cm4gc2VydmljZS5wcmljZV91c2Q7XHJcbiAgaWYgKGN1cnJlbmN5ID09PSBcIkdCUFwiICYmIHNlcnZpY2UucHJpY2VfZ2JwICE9IG51bGwpIHJldHVybiBzZXJ2aWNlLnByaWNlX2dicDtcclxuICByZXR1cm4gc2VydmljZS5iYXNlX3ByaWNlID8/IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2aWNlUHJpY2VDdXJyZW5jeShzZXJ2aWNlOiBTZXJ2aWNlUmVjb3JkIHwgbnVsbCwgdGFyZ2V0Q3VycmVuY3k6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgaWYgKCFzZXJ2aWNlKSByZXR1cm4gXCJFVVJcIjtcclxuICBpZiAodGFyZ2V0Q3VycmVuY3kgPT09IFwiVVNEXCIgJiYgc2VydmljZS5wcmljZV91c2QgIT0gbnVsbCkgcmV0dXJuIFwiVVNEXCI7XHJcbiAgaWYgKHRhcmdldEN1cnJlbmN5ID09PSBcIkdCUFwiICYmIHNlcnZpY2UucHJpY2VfZ2JwICE9IG51bGwpIHJldHVybiBcIkdCUFwiO1xyXG4gIHJldHVybiBcIkVVUlwiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9uUHJpY2Uob3B0aW9uOiBPcHRpb25SZWNvcmQgfCBudWxsLCBjdXJyZW5jeTogc3RyaW5nKTogbnVtYmVyIHtcclxuICBpZiAoIW9wdGlvbikgcmV0dXJuIDA7XHJcbiAgaWYgKGN1cnJlbmN5ID09PSBcIlVTRFwiICYmIG9wdGlvbi5wcmljZV91c2QgIT0gbnVsbCkgcmV0dXJuIG9wdGlvbi5wcmljZV91c2Q7XHJcbiAgaWYgKGN1cnJlbmN5ID09PSBcIkdCUFwiICYmIG9wdGlvbi5wcmljZV9nYnAgIT0gbnVsbCkgcmV0dXJuIG9wdGlvbi5wcmljZV9nYnA7XHJcbiAgcmV0dXJuIG9wdGlvbi5hZGRpdGlvbmFsX3ByaWNlID8/IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25QcmljZUN1cnJlbmN5KG9wdGlvbjogT3B0aW9uUmVjb3JkIHwgbnVsbCwgdGFyZ2V0Q3VycmVuY3k6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgaWYgKCFvcHRpb24pIHJldHVybiBcIkVVUlwiO1xyXG4gIGlmICh0YXJnZXRDdXJyZW5jeSA9PT0gXCJVU0RcIiAmJiBvcHRpb24ucHJpY2VfdXNkICE9IG51bGwpIHJldHVybiBcIlVTRFwiO1xyXG4gIGlmICh0YXJnZXRDdXJyZW5jeSA9PT0gXCJHQlBcIiAmJiBvcHRpb24ucHJpY2VfZ2JwICE9IG51bGwpIHJldHVybiBcIkdCUFwiO1xyXG4gIHJldHVybiBcIkVVUlwiO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0b3VybmUgbGUgcHJpeCBkdSBzZXJ2aWNlIGNvbnZlcnRpIGRhbnMgbGEgZGV2aXNlIGNpYmxlLlxyXG4gKiBTaSBsYSBkZXZpc2UgY2libGUgYSB1biBwcml4IGVuIERCIChVU0QsIEdCUCksIGwndXRpbGlzZSA7IHNpbm9uIGNvbnZlcnRpdCBkZXB1aXMgRVVSLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VQcmljZUluQ3VycmVuY3koc2VydmljZTogU2VydmljZVJlY29yZCB8IG51bGwsIHRhcmdldEN1cnJlbmN5OiBzdHJpbmcpOiBudW1iZXIge1xyXG4gIGlmICghc2VydmljZSkgcmV0dXJuIDA7XHJcbiAgY29uc3QgcHJpY2UgPSBnZXRTZXJ2aWNlUHJpY2Uoc2VydmljZSwgdGFyZ2V0Q3VycmVuY3kpO1xyXG4gIGNvbnN0IHByaWNlQ3VyID0gZ2V0U2VydmljZVByaWNlQ3VycmVuY3koc2VydmljZSwgdGFyZ2V0Q3VycmVuY3kpO1xyXG4gIHJldHVybiBwcmljZUN1ciA9PT0gdGFyZ2V0Q3VycmVuY3kgPyBwcmljZSA6IGNvbnZlcnRQcmljZVN5bmMocHJpY2UsIHRhcmdldEN1cnJlbmN5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldG91cm5lIGxlIHByaXggZGUgbCdvcHRpb24gY29udmVydGkgZGFucyBsYSBkZXZpc2UgY2libGUuXHJcbiAqIFNpIGxhIGRldmlzZSBjaWJsZSBhIHVuIHByaXggZW4gREIgKFVTRCwgR0JQKSwgbCd1dGlsaXNlIDsgc2lub24gY29udmVydGl0IGRlcHVpcyBFVVIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9uUHJpY2VJbkN1cnJlbmN5KG9wdGlvbjogT3B0aW9uUmVjb3JkIHwgbnVsbCwgdGFyZ2V0Q3VycmVuY3k6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgaWYgKCFvcHRpb24pIHJldHVybiAwO1xyXG4gIGNvbnN0IHByaWNlID0gZ2V0T3B0aW9uUHJpY2Uob3B0aW9uLCB0YXJnZXRDdXJyZW5jeSk7XHJcbiAgY29uc3QgcHJpY2VDdXIgPSBnZXRPcHRpb25QcmljZUN1cnJlbmN5KG9wdGlvbiwgdGFyZ2V0Q3VycmVuY3kpO1xyXG4gIHJldHVybiBwcmljZUN1ciA9PT0gdGFyZ2V0Q3VycmVuY3kgPyBwcmljZSA6IGNvbnZlcnRQcmljZVN5bmMocHJpY2UsIHRhcmdldEN1cnJlbmN5KTtcclxufVxyXG5cclxuZXhwb3J0IHsgREVMSVZFUllfUE9TVEFMX1BSSUNFX0VVUiB9O1xyXG5cclxuLyoqIENhbGN1bGUgbGUgdG90YWwgZW4gZGV2aXNlIGNpYmxlIChwb3VyIHNhdmUgc3VibWlzc2lvbikgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsQW1vdW50KFxyXG4gIGZvcm1EYXRhOiB7IHNlbGVjdGVkU2VydmljZXM/OiBzdHJpbmdbXTsgc2VydmljZURvY3VtZW50cz86IFJlY29yZDxzdHJpbmcsIHVua25vd25bXT47IGRlbGl2ZXJ5TWV0aG9kPzogc3RyaW5nIHwgbnVsbCB9LFxyXG4gIHNlcnZpY2VzTWFwOiBSZWNvcmQ8c3RyaW5nLCBTZXJ2aWNlUmVjb3JkPixcclxuICBvcHRpb25zTWFwOiBSZWNvcmQ8c3RyaW5nLCBPcHRpb25SZWNvcmQ+LFxyXG4gIGN1cnJlbmN5OiBzdHJpbmdcclxuKTogbnVtYmVyIHtcclxuICBsZXQgdG90YWwgPSAwO1xyXG4gIChmb3JtRGF0YS5zZWxlY3RlZFNlcnZpY2VzID8/IFtdKS5mb3JFYWNoKChzaWQpID0+IHtcclxuICAgIGNvbnN0IHNlcnZpY2UgPSBzZXJ2aWNlc01hcFtzaWRdO1xyXG4gICAgY29uc3QgZG9jcyA9IChmb3JtRGF0YS5zZXJ2aWNlRG9jdW1lbnRzPy5bc2lkXSA/PyBbXSkgYXMgeyBzZWxlY3RlZE9wdGlvbnM/OiBzdHJpbmdbXSB9W107XHJcbiAgICBpZiAoc2VydmljZSkge1xyXG4gICAgICBjb25zdCBzcCA9IGdldFNlcnZpY2VQcmljZShzZXJ2aWNlLCBjdXJyZW5jeSk7XHJcbiAgICAgIGNvbnN0IHNwQ3VyID0gZ2V0U2VydmljZVByaWNlQ3VycmVuY3koc2VydmljZSwgY3VycmVuY3kpO1xyXG4gICAgICBjb25zdCBzcEluQ3VyID0gc3BDdXIgPT09IGN1cnJlbmN5ID8gc3AgOiBjb252ZXJ0UHJpY2VTeW5jKHNwLCBjdXJyZW5jeSk7XHJcbiAgICAgIHRvdGFsICs9IGRvY3MubGVuZ3RoICogc3BJbkN1cjtcclxuICAgICAgZG9jcy5mb3JFYWNoKChkb2MpID0+IHtcclxuICAgICAgICAoZG9jLnNlbGVjdGVkT3B0aW9ucyA/PyBbXSkuZm9yRWFjaCgob3B0SWQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG9wdCA9IG9wdGlvbnNNYXBbb3B0SWRdO1xyXG4gICAgICAgICAgaWYgKG9wdCkge1xyXG4gICAgICAgICAgICBjb25zdCBvcCA9IGdldE9wdGlvblByaWNlKG9wdCwgY3VycmVuY3kpO1xyXG4gICAgICAgICAgICBjb25zdCBvcEN1ciA9IGdldE9wdGlvblByaWNlQ3VycmVuY3kob3B0LCBjdXJyZW5jeSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wSW5DdXIgPSBvcEN1ciA9PT0gY3VycmVuY3kgPyBvcCA6IGNvbnZlcnRQcmljZVN5bmMob3AsIGN1cnJlbmN5KTtcclxuICAgICAgICAgICAgdG90YWwgKz0gb3BJbkN1cjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgaWYgKGZvcm1EYXRhLmRlbGl2ZXJ5TWV0aG9kID09PSBcInBvc3RhbFwiKSB7XHJcbiAgICB0b3RhbCArPSBjdXJyZW5jeSA9PT0gXCJFVVJcIiA/IERFTElWRVJZX1BPU1RBTF9QUklDRV9FVVIgOiBjb252ZXJ0UHJpY2VTeW5jKERFTElWRVJZX1BPU1RBTF9QUklDRV9FVVIsIGN1cnJlbmN5KTtcclxuICB9XHJcbiAgcmV0dXJuIHRvdGFsO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjb252ZXJ0UHJpY2VTeW5jIiwiREVMSVZFUllfUE9TVEFMX1BSSUNFX0VVUiIsImdldFNlcnZpY2VQcmljZSIsInNlcnZpY2UiLCJjdXJyZW5jeSIsInByaWNlX3VzZCIsInByaWNlX2dicCIsImJhc2VfcHJpY2UiLCJnZXRTZXJ2aWNlUHJpY2VDdXJyZW5jeSIsInRhcmdldEN1cnJlbmN5IiwiZ2V0T3B0aW9uUHJpY2UiLCJvcHRpb24iLCJhZGRpdGlvbmFsX3ByaWNlIiwiZ2V0T3B0aW9uUHJpY2VDdXJyZW5jeSIsImdldFNlcnZpY2VQcmljZUluQ3VycmVuY3kiLCJwcmljZSIsInByaWNlQ3VyIiwiZ2V0T3B0aW9uUHJpY2VJbkN1cnJlbmN5IiwiY2FsY3VsYXRlVG90YWxBbW91bnQiLCJmb3JtRGF0YSIsInNlcnZpY2VzTWFwIiwib3B0aW9uc01hcCIsInRvdGFsIiwic2VsZWN0ZWRTZXJ2aWNlcyIsImZvckVhY2giLCJzaWQiLCJkb2NzIiwic2VydmljZURvY3VtZW50cyIsInNwIiwic3BDdXIiLCJzcEluQ3VyIiwibGVuZ3RoIiwiZG9jIiwic2VsZWN0ZWRPcHRpb25zIiwib3B0SWQiLCJvcHQiLCJvcCIsIm9wQ3VyIiwib3BJbkN1ciIsImRlbGl2ZXJ5TWV0aG9kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/utils/pricing.ts\n"));

/***/ })

});